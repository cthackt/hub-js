import { formatItem } from "./helpers/format";
// This function is responsible for formatting results from the AGO API into the JSONAPI collection format
export function agoFormatItemCollection(searchResults, facets = {}, params) {
    const queryParams = Object.assign({}, params);
    return {
        data: searchResults.results.map(result => {
            return formatItem(result, queryParams.q);
        }),
        meta: {
            query: searchResults.query,
            queryParameters: queryParams,
            stats: {
                aggs: facets,
                count: searchResults.results.length,
                totalCount: searchResults.total
            },
            page: {
                start: searchResults.start,
                size: searchResults.num,
                nextStart: searchResults.nextStart
            }
        }
    };
}
//# sourceMappingURL=format-item-collection.js.map