import { __assign } from "tslib";
import { formatItem } from "./helpers/format";
// This function is responsible for formatting results from the AGO API into the JSONAPI collection format
export function agoFormatItemCollection(searchResults, facets, params) {
    if (facets === void 0) { facets = {}; }
    var queryParams = __assign({}, params);
    return {
        data: searchResults.results.map(function (result) {
            return formatItem(result, queryParams.q);
        }),
        meta: {
            query: searchResults.query,
            queryParameters: queryParams,
            stats: {
                aggs: facets,
                count: searchResults.results.length,
                totalCount: searchResults.total
            },
            page: {
                start: searchResults.start,
                size: searchResults.num,
                nextStart: searchResults.nextStart
            }
        }
    };
}
//# sourceMappingURL=format-item-collection.js.map