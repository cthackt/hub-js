"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.downloadableAgg = void 0;
const hub_common_1 = require("@esri/hub-common");
// implements the 'downloadable' facet from AGO results. V3 datasets have this property computed
// during the harvesting process but AGO results need this result computed at runtime
function downloadableAgg(response) {
    // Get counts of true and false for downloadable facet
    // i.e. { true: 10, false: 15 }
    return response.results.reduce((formattedAggs, result) => {
        if ((result.typeKeywords || []).indexOf("Data") > -1 ||
            hub_common_1.categories.downloadableTypes.indexOf(result.type) > -1) {
            formattedAggs.downloadable.true++;
        }
        else {
            formattedAggs.downloadable.false++;
        }
        return formattedAggs;
    }, { downloadable: { true: 0, false: 0 } });
}
exports.downloadableAgg = downloadableAgg;
//# sourceMappingURL=downloadable.js.map