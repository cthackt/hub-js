"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.collectionFilter = void 0;
const hub_common_1 = require("@esri/hub-common");
function collectionFilter(queryFilters) {
    const categories = hub_common_1.getProp(queryFilters, "collection.terms") || [];
    const typesArr = categories.map((c) => hub_common_1.getTypes(c));
    // flatten typesArr
    const filter = typesArr
        .filter((types) => !!types)
        .reduce((singleArr, types) => {
        types.forEach(type => {
            singleArr.push(`type:"${type}"`);
        });
        return singleArr;
    }, [])
        .join(" OR ");
    return `(${filter})`;
}
exports.collectionFilter = collectionFilter;
//# sourceMappingURL=collection.js.map