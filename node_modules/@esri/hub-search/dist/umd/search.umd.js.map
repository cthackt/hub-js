{"version":3,"file":"search.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-form-data.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISRequestError.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/warn.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/request.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/append-custom-params.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/clean-url.js","../../../../node_modules/@esri/arcgis-rest-portal/dist/esm/util/get-portal-url.js","../../../../node_modules/@esri/arcgis-rest-portal/dist/esm/util/SearchQueryBuilder.js","../../../../node_modules/@esri/arcgis-rest-portal/dist/esm/util/generic-search.js","../../../../node_modules/@esri/arcgis-rest-portal/dist/esm/items/search.js","../esm/types/content.js","../esm/content/helpers/common.js","../esm/content/helpers/convert-request-to-portal-params.js","../esm/content/helpers/convert-request-to-hub-params.js","../esm/content/helpers/convert-portal-response.js","../esm/content/helpers/convert-hub-response.js","../esm/content/index.js","../esm/ago/helpers/aggs/has-api.js","../esm/ago/helpers/aggs/downloadable.js","../esm/ago/helpers/aggs/collection.js","../esm/ago/helpers/aggs/format.js","../esm/ago/helpers/aggs/create-aggs.js","../esm/ago/helpers/aggs/categories.js","../esm/ago/helpers/sort/sort.js","../esm/ago/helpers/filters/filter-schema.js","../esm/ago/helpers/filters/create-filters.js","../esm/ago/helpers/filters/encode-filters.js","../esm/ago/helpers/filters/build-filter.js","../esm/ago/helpers/filters/downloadable.js","../esm/ago/helpers/filters/has-api.js","../esm/ago/helpers/filters/group-ids.js","../esm/ago/helpers/filters/collection.js","../esm/ago/helpers/filters/handle-filter.js","../esm/ago/helpers/filters/encode-params.js","../esm/ago/encode-ago-query.js","../esm/ago/get-items.js","../esm/ago/compute-items-facets.js","../esm/ago/helpers/format/highlights.js","../esm/ago/helpers/format/format-item.js","../esm/ago/format-item-collection.js","../esm/ago/search.js","../esm/ago/serialize.js","../esm/util/merge-sort/merge.js","../esm/util/aggregations/merge-aggregations.js","../esm/util/merge-pagination/invalid-pagination-input.js","../esm/util/merge-pagination/merge.js","../esm/types/common.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Checks parameters to see if we should use FormData to send the request\n * @param params The object whose keys will be encoded.\n * @return A boolean indicating if FormData will be required.\n */\nexport function requiresFormData(params) {\n    return Object.keys(params).some(function (key) {\n        var value = params[key];\n        if (!value) {\n            return false;\n        }\n        if (value && value.toParam) {\n            value = value.toParam();\n        }\n        var type = value.constructor.name;\n        switch (type) {\n            case \"Array\":\n                return false;\n            case \"Object\":\n                return false;\n            case \"Date\":\n                return false;\n            case \"Function\":\n                return false;\n            case \"Boolean\":\n                return false;\n            case \"String\":\n                return false;\n            case \"Number\":\n                return false;\n            default:\n                return true;\n        }\n    });\n}\n/**\n * Converts parameters to the proper representation to send to the ArcGIS REST API.\n * @param params The object whose keys will be encoded.\n * @return A new object with properly encoded values.\n */\nexport function processParams(params) {\n    var newParams = {};\n    Object.keys(params).forEach(function (key) {\n        var _a, _b;\n        var param = params[key];\n        if (param && param.toParam) {\n            param = param.toParam();\n        }\n        if (!param &&\n            param !== 0 &&\n            typeof param !== \"boolean\" &&\n            typeof param !== \"string\") {\n            return;\n        }\n        var type = param.constructor.name;\n        var value;\n        // properly encodes objects, arrays and dates for arcgis.com and other services.\n        // ported from https://github.com/Esri/esri-leaflet/blob/master/src/Request.js#L22-L30\n        // also see https://github.com/Esri/arcgis-rest-js/issues/18:\n        // null, undefined, function are excluded. If you want to send an empty key you need to send an empty string \"\".\n        switch (type) {\n            case \"Array\":\n                // Based on the first element of the array, classify array as an array of arrays, an array of objects\n                // to be stringified, or an array of non-objects to be comma-separated\n                // eslint-disable-next-line no-case-declarations\n                var firstElementType = (_b = (_a = param[0]) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name;\n                value =\n                    firstElementType === \"Array\" ? param : // pass thru array of arrays\n                        firstElementType === \"Object\" ? JSON.stringify(param) : // stringify array of objects\n                            param.join(\",\"); // join other types of array elements\n                break;\n            case \"Object\":\n                value = JSON.stringify(param);\n                break;\n            case \"Date\":\n                value = param.valueOf();\n                break;\n            case \"Function\":\n                value = null;\n                break;\n            case \"Boolean\":\n                value = param + \"\";\n                break;\n            default:\n                value = param;\n                break;\n        }\n        if (value || value === 0 || typeof value === \"string\" || Array.isArray(value)) {\n            newParams[key] = value;\n        }\n    });\n    return newParams;\n}\n//# sourceMappingURL=process-params.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { processParams } from \"./process-params\";\n/**\n * Encodes keys and parameters for use in a URL's query string.\n *\n * @param key Parameter's key\n * @param value Parameter's value\n * @returns Query string with key and value pairs separated by \"&\"\n */\nexport function encodeParam(key, value) {\n    // For array of arrays, repeat key=value for each element of containing array\n    if (Array.isArray(value) && value[0] && Array.isArray(value[0])) {\n        return value.map(function (arrayElem) { return encodeParam(key, arrayElem); }).join(\"&\");\n    }\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n}\n/**\n * Encodes the passed object as a query string.\n *\n * @param params An object to be encoded.\n * @returns An encoded query string.\n */\nexport function encodeQueryString(params) {\n    var newParams = processParams(params);\n    return Object.keys(newParams)\n        .map(function (key) {\n        return encodeParam(key, newParams[key]);\n    })\n        .join(\"&\");\n}\n//# sourceMappingURL=encode-query-string.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { processParams, requiresFormData } from \"./process-params\";\nimport { encodeQueryString } from \"./encode-query-string\";\n/**\n * Encodes parameters in a [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object in browsers or in a [FormData](https://github.com/form-data/form-data) in Node.js\n *\n * @param params An object to be encoded.\n * @returns The complete [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object.\n */\nexport function encodeFormData(params, forceFormData) {\n    // see https://github.com/Esri/arcgis-rest-js/issues/499 for more info.\n    var useFormData = requiresFormData(params) || forceFormData;\n    var newParams = processParams(params);\n    if (useFormData) {\n        var formData_1 = new FormData();\n        Object.keys(newParams).forEach(function (key) {\n            if (typeof Blob !== \"undefined\" && newParams[key] instanceof Blob) {\n                /* To name the Blob:\n                 1. look to an alternate request parameter called 'fileName'\n                 2. see if 'name' has been tacked onto the Blob manually\n                 3. if all else fails, use the request parameter\n                */\n                var filename = newParams[\"fileName\"] || newParams[key].name || key;\n                formData_1.append(key, newParams[key], filename);\n            }\n            else {\n                formData_1.append(key, newParams[key]);\n            }\n        });\n        return formData_1;\n    }\n    else {\n        return encodeQueryString(params);\n    }\n}\n//# sourceMappingURL=encode-form-data.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n// TypeScript 2.1 no longer allows you to extend built in types. See https://github.com/Microsoft/TypeScript/issues/12790#issuecomment-265981442\n// and https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n//\n// This code is from MDN https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types.\nvar ArcGISRequestError = /** @class */ (function () {\n    /**\n     * Create a new `ArcGISRequestError`  object.\n     *\n     * @param message - The error message from the API\n     * @param code - The error code from the API\n     * @param response - The original response from the API that caused the error\n     * @param url - The original url of the request\n     * @param options - The original options and parameters of the request\n     */\n    function ArcGISRequestError(message, code, response, url, options) {\n        message = message || \"UNKNOWN_ERROR\";\n        code = code || \"UNKNOWN_ERROR_CODE\";\n        this.name = \"ArcGISRequestError\";\n        this.message =\n            code === \"UNKNOWN_ERROR_CODE\" ? message : code + \": \" + message;\n        this.originalMessage = message;\n        this.code = code;\n        this.response = response;\n        this.url = url;\n        this.options = options;\n    }\n    return ArcGISRequestError;\n}());\nexport { ArcGISRequestError };\nArcGISRequestError.prototype = Object.create(Error.prototype);\nArcGISRequestError.prototype.constructor = ArcGISRequestError;\n//# sourceMappingURL=ArcGISRequestError.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Method used internally to surface messages to developers.\n */\nexport function warn(message) {\n    if (console && console.warn) {\n        console.warn.apply(console, [message]);\n    }\n}\n//# sourceMappingURL=warn.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { __assign, __extends } from \"tslib\";\nimport { encodeFormData } from \"./utils/encode-form-data\";\nimport { encodeQueryString } from \"./utils/encode-query-string\";\nimport { requiresFormData } from \"./utils/process-params\";\nimport { ArcGISRequestError } from \"./utils/ArcGISRequestError\";\nimport { warn } from \"./utils/warn\";\nexport var NODEJS_DEFAULT_REFERER_HEADER = \"@esri/arcgis-rest-js\";\nvar DEFAULT_ARCGIS_REQUEST_OPTIONS = {\n    httpMethod: \"POST\",\n    params: {\n        f: \"json\",\n    },\n};\n/**\n * Sets the default options that will be passed in **all requests across all `@esri/arcgis-rest-js` modules**.\n *\n *\n * ```js\n * import { setDefaultRequestOptions } from \"@esri/arcgis-rest-request\";\n * setDefaultRequestOptions({\n *   authentication: userSession // all requests will use this session by default\n * })\n * ```\n * You should **never** set a default `authentication` when you are in a server side environment where you may be handling requests for many different authenticated users.\n *\n * @param options The default options to pass with every request. Existing default will be overwritten.\n * @param hideWarnings Silence warnings about setting default `authentication` in shared environments.\n */\nexport function setDefaultRequestOptions(options, hideWarnings) {\n    if (options.authentication && !hideWarnings) {\n        warn(\"You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning.\");\n    }\n    DEFAULT_ARCGIS_REQUEST_OPTIONS = options;\n}\nvar ArcGISAuthError = /** @class */ (function (_super) {\n    __extends(ArcGISAuthError, _super);\n    /**\n     * Create a new `ArcGISAuthError`  object.\n     *\n     * @param message - The error message from the API\n     * @param code - The error code from the API\n     * @param response - The original response from the API that caused the error\n     * @param url - The original url of the request\n     * @param options - The original options of the request\n     */\n    function ArcGISAuthError(message, code, response, url, options) {\n        if (message === void 0) { message = \"AUTHENTICATION_ERROR\"; }\n        if (code === void 0) { code = \"AUTHENTICATION_ERROR_CODE\"; }\n        var _this = _super.call(this, message, code, response, url, options) || this;\n        _this.name = \"ArcGISAuthError\";\n        _this.message =\n            code === \"AUTHENTICATION_ERROR_CODE\" ? message : code + \": \" + message;\n        return _this;\n    }\n    ArcGISAuthError.prototype.retry = function (getSession, retryLimit) {\n        var _this = this;\n        if (retryLimit === void 0) { retryLimit = 3; }\n        var tries = 0;\n        var retryRequest = function (resolve, reject) {\n            getSession(_this.url, _this.options)\n                .then(function (session) {\n                var newOptions = __assign(__assign({}, _this.options), { authentication: session });\n                tries = tries + 1;\n                return request(_this.url, newOptions);\n            })\n                .then(function (response) {\n                resolve(response);\n            })\n                .catch(function (e) {\n                if (e.name === \"ArcGISAuthError\" && tries < retryLimit) {\n                    retryRequest(resolve, reject);\n                }\n                else if (e.name === \"ArcGISAuthError\" && tries >= retryLimit) {\n                    reject(_this);\n                }\n                else {\n                    reject(e);\n                }\n            });\n        };\n        return new Promise(function (resolve, reject) {\n            retryRequest(resolve, reject);\n        });\n    };\n    return ArcGISAuthError;\n}(ArcGISRequestError));\nexport { ArcGISAuthError };\n/**\n * Checks for errors in a JSON response from the ArcGIS REST API. If there are no errors, it will return the `data` passed in. If there is an error, it will throw an `ArcGISRequestError` or `ArcGISAuthError`.\n *\n * @param data The response JSON to check for errors.\n * @param url The url of the original request\n * @param params The parameters of the original request\n * @param options The options of the original request\n * @returns The data that was passed in the `data` parameter\n */\nexport function checkForErrors(response, url, params, options, originalAuthError) {\n    // this is an error message from billing.arcgis.com backend\n    if (response.code >= 400) {\n        var message = response.message, code = response.code;\n        throw new ArcGISRequestError(message, code, response, url, options);\n    }\n    // error from ArcGIS Online or an ArcGIS Portal or server instance.\n    if (response.error) {\n        var _a = response.error, message = _a.message, code = _a.code, messageCode = _a.messageCode;\n        var errorCode = messageCode || code || \"UNKNOWN_ERROR_CODE\";\n        if (code === 498 ||\n            code === 499 ||\n            messageCode === \"GWM_0003\" ||\n            (code === 400 && message === \"Unable to generate token.\")) {\n            if (originalAuthError) {\n                throw originalAuthError;\n            }\n            else {\n                throw new ArcGISAuthError(message, errorCode, response, url, options);\n            }\n        }\n        throw new ArcGISRequestError(message, errorCode, response, url, options);\n    }\n    // error from a status check\n    if (response.status === \"failed\" || response.status === \"failure\") {\n        var message = void 0;\n        var code = \"UNKNOWN_ERROR_CODE\";\n        try {\n            message = JSON.parse(response.statusMessage).message;\n            code = JSON.parse(response.statusMessage).code;\n        }\n        catch (e) {\n            message = response.statusMessage || response.message;\n        }\n        throw new ArcGISRequestError(message, code, response, url, options);\n    }\n    return response;\n}\n/**\n * ```js\n * import { request } from '@esri/arcgis-rest-request';\n * //\n * request('https://www.arcgis.com/sharing/rest')\n *   .then(response) // response.currentVersion === 5.2\n * //\n * request('https://www.arcgis.com/sharing/rest', {\n *   httpMethod: \"GET\"\n * })\n * //\n * request('https://www.arcgis.com/sharing/rest/search', {\n *   params: { q: 'parks' }\n * })\n *   .then(response) // response.total => 78379\n * ```\n * Generic method for making HTTP requests to ArcGIS REST API endpoints.\n *\n * @param url - The URL of the ArcGIS REST API endpoint.\n * @param requestOptions - Options for the request, including parameters relevant to the endpoint.\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function request(url, requestOptions) {\n    if (requestOptions === void 0) { requestOptions = { params: { f: \"json\" } }; }\n    var options = __assign(__assign(__assign({ httpMethod: \"POST\" }, DEFAULT_ARCGIS_REQUEST_OPTIONS), requestOptions), {\n        params: __assign(__assign({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.params), requestOptions.params),\n        headers: __assign(__assign({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.headers), requestOptions.headers),\n    });\n    var missingGlobals = [];\n    var recommendedPackages = [];\n    // don't check for a global fetch if a custom implementation was passed through\n    if (!options.fetch && typeof fetch !== \"undefined\") {\n        options.fetch = fetch.bind(Function(\"return this\")());\n    }\n    else {\n        missingGlobals.push(\"`fetch`\");\n        recommendedPackages.push(\"`node-fetch`\");\n    }\n    if (typeof Promise === \"undefined\") {\n        missingGlobals.push(\"`Promise`\");\n        recommendedPackages.push(\"`es6-promise`\");\n    }\n    if (typeof FormData === \"undefined\") {\n        missingGlobals.push(\"`FormData`\");\n        recommendedPackages.push(\"`isomorphic-form-data`\");\n    }\n    if (!options.fetch ||\n        typeof Promise === \"undefined\" ||\n        typeof FormData === \"undefined\") {\n        throw new Error(\"`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing \" + missingGlobals.join(\", \") + \". We recommend installing the \" + recommendedPackages.join(\", \") + \" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.\");\n    }\n    var httpMethod = options.httpMethod, authentication = options.authentication, rawResponse = options.rawResponse;\n    var params = __assign({ f: \"json\" }, options.params);\n    var originalAuthError = null;\n    var fetchOptions = {\n        method: httpMethod,\n        /* ensures behavior mimics XMLHttpRequest.\n        needed to support sending IWA cookies */\n        credentials: options.credentials || \"same-origin\",\n    };\n    // the /oauth2/platformSelf route will add X-Esri-Auth-Client-Id header\n    // and that request needs to send cookies cross domain\n    // so we need to set the credentials to \"include\"\n    if (options.headers &&\n        options.headers[\"X-Esri-Auth-Client-Id\"] &&\n        url.indexOf(\"/oauth2/platformSelf\") > -1) {\n        fetchOptions.credentials = \"include\";\n    }\n    return (authentication\n        ? authentication.getToken(url, { fetch: options.fetch }).catch(function (err) {\n            /**\n             * append original request url and requestOptions\n             * to the error thrown by getToken()\n             * to assist with retrying\n             */\n            err.url = url;\n            err.options = options;\n            /**\n             * if an attempt is made to talk to an unfederated server\n             * first try the request anonymously. if a 'token required'\n             * error is thrown, throw the UNFEDERATED error then.\n             */\n            originalAuthError = err;\n            return Promise.resolve(\"\");\n        })\n        : Promise.resolve(\"\"))\n        .then(function (token) {\n        if (token.length) {\n            params.token = token;\n        }\n        if (authentication && authentication.getDomainCredentials) {\n            fetchOptions.credentials = authentication.getDomainCredentials(url);\n        }\n        // Custom headers to add to request. IRequestOptions.headers with merge over requestHeaders.\n        var requestHeaders = {};\n        if (fetchOptions.method === \"GET\") {\n            // Prevents token from being passed in query params when hideToken option is used.\n            /* istanbul ignore if - window is always defined in a browser. Test case is covered by Jasmine in node test */\n            if (params.token &&\n                options.hideToken &&\n                // Sharing API does not support preflight check required by modern browsers https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request\n                typeof window === \"undefined\") {\n                requestHeaders[\"X-Esri-Authorization\"] = \"Bearer \" + params.token;\n                delete params.token;\n            }\n            // encode the parameters into the query string\n            var queryParams = encodeQueryString(params);\n            // dont append a '?' unless parameters are actually present\n            var urlWithQueryString = queryParams === \"\" ? url : url + \"?\" + encodeQueryString(params);\n            if (\n            // This would exceed the maximum length for URLs specified by the consumer and requires POST\n            (options.maxUrlLength &&\n                urlWithQueryString.length > options.maxUrlLength) ||\n                // Or if the customer requires the token to be hidden and it has not already been hidden in the header (for browsers)\n                (params.token && options.hideToken)) {\n                // the consumer specified a maximum length for URLs\n                // and this would exceed it, so use post instead\n                fetchOptions.method = \"POST\";\n                // If the token was already added as a Auth header, add the token back to body with other params instead of header\n                if (token.length && options.hideToken) {\n                    params.token = token;\n                    // Remove existing header that was added before url query length was checked\n                    delete requestHeaders[\"X-Esri-Authorization\"];\n                }\n            }\n            else {\n                // just use GET\n                url = urlWithQueryString;\n            }\n        }\n        /* updateResources currently requires FormData even when the input parameters dont warrant it.\n    https://developers.arcgis.com/rest/users-groups-and-items/update-resources.htm\n        see https://github.com/Esri/arcgis-rest-js/pull/500 for more info. */\n        var forceFormData = new RegExp(\"/items/.+/updateResources\").test(url);\n        if (fetchOptions.method === \"POST\") {\n            fetchOptions.body = encodeFormData(params, forceFormData);\n        }\n        // Mixin headers from request options\n        fetchOptions.headers = __assign(__assign({}, requestHeaders), options.headers);\n        /* istanbul ignore next - karma reports coverage on browser tests only */\n        if (typeof window === \"undefined\" && !fetchOptions.headers.referer) {\n            fetchOptions.headers.referer = NODEJS_DEFAULT_REFERER_HEADER;\n        }\n        /* istanbul ignore else blob responses are difficult to make cross platform we will just have to trust the isomorphic fetch will do its job */\n        if (!requiresFormData(params) && !forceFormData) {\n            fetchOptions.headers[\"Content-Type\"] =\n                \"application/x-www-form-urlencoded\";\n        }\n        return options.fetch(url, fetchOptions);\n    })\n        .then(function (response) {\n        if (!response.ok) {\n            // server responded w/ an actual error (404, 500, etc)\n            var status_1 = response.status, statusText = response.statusText;\n            throw new ArcGISRequestError(statusText, \"HTTP \" + status_1, response, url, options);\n        }\n        if (rawResponse) {\n            return response;\n        }\n        switch (params.f) {\n            case \"json\":\n                return response.json();\n            case \"geojson\":\n                return response.json();\n            case \"html\":\n                return response.text();\n            case \"text\":\n                return response.text();\n            /* istanbul ignore next blob responses are difficult to make cross platform we will just have to trust that isomorphic fetch will do its job */\n            default:\n                return response.blob();\n        }\n    })\n        .then(function (data) {\n        if ((params.f === \"json\" || params.f === \"geojson\") && !rawResponse) {\n            var response = checkForErrors(data, url, params, options, originalAuthError);\n            if (originalAuthError) {\n                /* If the request was made to an unfederated service that\n                didn't require authentication, add the base url and a dummy token\n                to the list of trusted servers to avoid another federation check\n                in the event of a repeat request */\n                var truncatedUrl = url\n                    .toLowerCase()\n                    .split(/\\/rest(\\/admin)?\\/services\\//)[0];\n                options.authentication.federatedServers[truncatedUrl] = {\n                    token: [],\n                    // default to 24 hours\n                    expires: new Date(Date.now() + 86400 * 1000),\n                };\n                originalAuthError = null;\n            }\n            return response;\n        }\n        else {\n            return data;\n        }\n    });\n}\n//# sourceMappingURL=request.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { __assign } from \"tslib\";\n/**\n * Helper for methods with lots of first order request options to pass through as request parameters.\n */\nexport function appendCustomParams(customOptions, keys, baseOptions) {\n    var requestOptionsKeys = [\n        \"params\",\n        \"httpMethod\",\n        \"rawResponse\",\n        \"authentication\",\n        \"portal\",\n        \"fetch\",\n        \"maxUrlLength\",\n        \"headers\"\n    ];\n    var options = __assign(__assign({ params: {} }, baseOptions), customOptions);\n    // merge all keys in customOptions into options.params\n    options.params = keys.reduce(function (value, key) {\n        if (customOptions[key] || typeof customOptions[key] === \"boolean\") {\n            value[key] = customOptions[key];\n        }\n        return value;\n    }, options.params);\n    // now remove all properties in options that don't exist in IRequestOptions\n    return requestOptionsKeys.reduce(function (value, key) {\n        if (options[key]) {\n            value[key] = options[key];\n        }\n        return value;\n    }, {});\n}\n//# sourceMappingURL=append-custom-params.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Helper method to ensure that user supplied urls don't include whitespace or a trailing slash.\n */\nexport function cleanUrl(url) {\n    // Guard so we don't try to trim something that's not a string\n    if (typeof url !== \"string\") {\n        return url;\n    }\n    // trim leading and trailing spaces, but not spaces inside the url\n    url = url.trim();\n    // remove the trailing slash to the url if one was included\n    if (url[url.length - 1] === \"/\") {\n        url = url.slice(0, -1);\n    }\n    return url;\n}\n//# sourceMappingURL=clean-url.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n * Helper that returns the appropriate portal url for a given request. `requestOptions.portal` is given\n * precedence over `authentication.portal`. If neither `portal` nor `authentication` is present,\n * `www.arcgis.com/sharing/rest` is returned.\n *\n * @param requestOptions - Request options that may have authentication manager\n * @returns Portal url to be used in API requests\n */\nexport function getPortalUrl(requestOptions) {\n    if (requestOptions === void 0) { requestOptions = {}; }\n    // use portal in options if specified\n    if (requestOptions.portal) {\n        return cleanUrl(requestOptions.portal);\n    }\n    // if auth was passed, use that portal\n    if (requestOptions.authentication) {\n        // the portal url is already scrubbed in the auth package\n        return requestOptions.authentication.portal;\n    }\n    // default to arcgis.com\n    return \"https://www.arcgis.com/sharing/rest\";\n}\n//# sourceMappingURL=get-portal-url.js.map","/* Copyright (c) 2018-2021 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { warn } from \"@esri/arcgis-rest-request\";\n/**\n * `SearchQueryBuilder` can be used to construct the `q` param for\n * [`searchItems`](/arcgis-rest-js/api/portal/searchItems#searchItems-search) or\n * [`searchGroups`](/arcgis-rest-js/api/portal/searchGroups#searchGroups-search).\n * By chaining methods, it helps build complex search queries.\n *\n * ```js\n * const startDate = new Date(\"2020-01-01\");\n * const endDate = new Date(\"2020-09-01\");\n * const query = new SearchQueryBuilder()\n *  .match(\"Patrick\")\n *  .in(\"owner\")\n *  .and()\n *  .from(startDate)\n *  .to(endDate)\n *  .in(\"created\")\n *  .and()\n *  .startGroup()\n *    .match(\"Web Mapping Application\")\n *    .in(\"type\")\n *    .or()\n *    .match(\"Mobile Application\")\n *    .in(\"type\")\n *    .or()\n *    .match(\"Application\")\n *    .in(\"type\")\n *  .endGroup()\n *  .and()\n *  .match(\"Demo App\");\n *\n * searchItems(query).then((res) => {\n *   console.log(res.results);\n * });\n * ```\n *\n * Will search for items matching\n * ```\n * \"owner: Patrick AND created:[1577836800000 TO 1598918400000] AND (type:\"Web Mapping Application\" OR type:\"Mobile Application\" OR type:Application) AND Demo App\"\n * ```\n */\nvar SearchQueryBuilder = /** @class */ (function () {\n    /**\n     * @param q An existing query string to start building from.\n     */\n    function SearchQueryBuilder(q) {\n        if (q === void 0) { q = \"\"; }\n        this.termStack = [];\n        this.rangeStack = [];\n        this.openGroups = 0;\n        this.q = q;\n    }\n    /**\n     * Defines strings to search for.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .match(\"My Layer\")\n     * ```\n     *\n     * @param terms strings to search for.\n     */\n    SearchQueryBuilder.prototype.match = function () {\n        var terms = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            terms[_i] = arguments[_i];\n        }\n        this.termStack = this.termStack.concat(terms);\n        return this;\n    };\n    /**\n     * Defines fields to search in. You can pass `\"*\"` or call this method without arguments to search a default set of fields\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .match(\"My Layer\")\n     *   .in(\"title\")\n     * ```\n     *\n     * @param field The field to search for the previous match in.\n     */\n    SearchQueryBuilder.prototype.in = function (field) {\n        var fn = \"`in(\" + (field ? \"\\\"\" + field + \"\\\"\" : \"\") + \")`\";\n        if (!this.hasRange && !this.hasTerms) {\n            warn(\n            // apparently-p-rettier-ignore causes some\n            fn + \" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified.\");\n            return this;\n        }\n        if (field && field !== \"*\") {\n            this.q += field + \":\";\n        }\n        return this.commit();\n    };\n    /**\n     * Starts a new search group.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .startGroup()\n     *     .match(\"Lakes\")\n     *     .in(\"title\")\n     *   .endGroup()\n     *   .or()\n     *   .startGroup()\n     *     .match(\"Rivers\")\n     *     .in(\"title\")\n     *   .endGroup()\n     * ```\n     */\n    SearchQueryBuilder.prototype.startGroup = function () {\n        this.commit();\n        if (this.openGroups > 0) {\n            this.q += \" \";\n        }\n        this.openGroups++;\n        this.q += \"(\";\n        return this;\n    };\n    /**\n     * Ends a search group.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .startGroup()\n     *     .match(\"Lakes\")\n     *     .in(\"title\")\n     *   .endGroup()\n     *   .or()\n     *   .startGroup()\n     *     .match(\"Rivers\")\n     *     .in(\"title\")\n     *   .endGroup()\n     * ```\n     */\n    SearchQueryBuilder.prototype.endGroup = function () {\n        if (this.openGroups <= 0) {\n            warn(\"`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified.\");\n            return this;\n        }\n        this.commit();\n        this.openGroups--;\n        this.q += \")\";\n        return this;\n    };\n    /**\n     * Joins two sets of queries with an `AND` clause.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .match(\"Lakes\")\n     *   .in(\"title\")\n     *   .and()\n     *   .match(\"Rivers\")\n     *   .in(\"title\")\n     * ```\n     */\n    SearchQueryBuilder.prototype.and = function () {\n        return this.addModifier(\"and\");\n    };\n    /**\n     * Joins two sets of queries with an `OR` clause.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .match(\"Lakes\")\n     *   .in(\"title\")\n     *   .or()\n     *   .match(\"Rivers\")\n     *   .in(\"title\")\n     * ```\n     */\n    SearchQueryBuilder.prototype.or = function () {\n        return this.addModifier(\"or\");\n    };\n    /**\n     * Joins two sets of queries with a `NOT` clause. Another option for filtering results is the [prohibit operator '-'](https://developers.arcgis.com/rest/users-groups-and-items/search-reference.htm#ESRI_SECTION1_5C6C35DB9E4A4F4492C5B937BDA2BF67).\n     *\n     * ```js\n     * // omit results with \"Rivers\" in their title\n     * const query = new SearchQueryBuilder()\n     *   .not()\n     *   .match(\"Rivers\")\n     *   .in(\"title\")\n     *\n     * // equivalent\n     * const query = new SearchQueryBuilder()\n     *   .match(\"Rivers\")\n     *   .in(\"-title\")\n     * ```\n     */\n    SearchQueryBuilder.prototype.not = function () {\n        return this.addModifier(\"not\");\n    };\n    /**\n     * Begins a new range query.\n     *\n     * ```js\n     *\n     * const NEWYEARS = new Date(\"2020-01-01\")\n     * const TODAY = new Date()\n     *\n     * const query = new SearchQueryBuilder()\n     *   .from(NEWYEARS)\n     *   .to(TODAY)\n     *   .in(\"created\")\n     * ```\n     */\n    SearchQueryBuilder.prototype.from = function (term) {\n        if (this.hasTerms) {\n            warn(\n            // apparently-p*rettier-ignore causes prettier to strip *all* comments O_o\n            \"`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date(\\\"2020-01-01\\\").  Your query was not modified.\");\n            return this;\n        }\n        this.rangeStack[0] = term;\n        return this;\n    };\n    /**\n     * Ends a range query.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .from(yesterdaysDate)\n     *   .to(todaysDate)\n     *   .in(\"created\")\n     * ```\n     */\n    SearchQueryBuilder.prototype.to = function (term) {\n        if (this.hasTerms) {\n            warn(\n            // apparently-p*rettier-ignore causes prettier to strip *all* comments O_o\n            \"`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date(\\\"2020-01-01\\\"). Your query was not modified.\");\n            return this;\n        }\n        this.rangeStack[1] = term;\n        return this;\n    };\n    /**\n     * Boosts the previous term to increase its rank in the results.\n     *\n     * ```js\n     * const query = new SearchQueryBuilder()\n     *   .match(\"Lakes\")\n     *   .in(\"title\")\n     *   .or()\n     *   .match(\"Rivers\")\n     *   .in(\"title\")\n     *   .boost(3)\n     * ```\n     */\n    SearchQueryBuilder.prototype.boost = function (num) {\n        this.commit();\n        this.q += \"^\" + num;\n        return this;\n    };\n    /**\n     * Returns the current query string. Called internally when the request is made.\n     */\n    SearchQueryBuilder.prototype.toParam = function () {\n        this.commit();\n        this.cleanup();\n        return this.q;\n    };\n    /**\n     * Returns a new instance of `SearchQueryBuilder` based on the current instance.\n     */\n    SearchQueryBuilder.prototype.clone = function () {\n        this.commit();\n        this.cleanup();\n        return new SearchQueryBuilder(this.q + \"\");\n    };\n    SearchQueryBuilder.prototype.addModifier = function (modifier) {\n        if (this.currentModifer) {\n            warn(\n            // apparently-p*rettier-ignore causes prettier to strip *all* comments O_o\n            \"You have called `\" + this.currentModifer + \"()` after `\" + modifier + \"()`. Your current query was not modified.\");\n            return this;\n        }\n        this.commit();\n        if (this.q === \"\" && modifier !== \"not\") {\n            warn(\"You have called `\" + modifier + \"()` without calling another method to modify your query first. Try calling `match()` first.\");\n            return this;\n        }\n        this.currentModifer = modifier;\n        this.q += this.q === \"\" ? \"\" : \" \";\n        this.q += modifier.toUpperCase() + \" \";\n        return this;\n    };\n    SearchQueryBuilder.prototype.needsQuotes = function (s) {\n        return /\\s|:/g.test(s);\n    };\n    SearchQueryBuilder.prototype.formatTerm = function (term) {\n        if (term instanceof Date) {\n            return term.getTime();\n        }\n        if (typeof term === \"string\" && this.needsQuotes(term)) {\n            return \"\\\"\" + term + \"\\\"\";\n        }\n        return term;\n    };\n    SearchQueryBuilder.prototype.commit = function () {\n        var _this = this;\n        this.currentModifer = undefined;\n        if (this.hasRange) {\n            this.q += \"[\" + this.formatTerm(this.rangeStack[0]) + \" TO \" + this.formatTerm(this.rangeStack[1]) + \"]\";\n            this.rangeStack = [undefined, undefined];\n        }\n        if (this.hasTerms) {\n            this.q += this.termStack\n                .map(function (term) {\n                return _this.formatTerm(term);\n            })\n                .join(\" \");\n            this.termStack = [];\n        }\n        return this;\n    };\n    Object.defineProperty(SearchQueryBuilder.prototype, \"hasTerms\", {\n        get: function () {\n            return this.termStack.length > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SearchQueryBuilder.prototype, \"hasRange\", {\n        get: function () {\n            return this.rangeStack.length && this.rangeStack[0] && this.rangeStack[1];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SearchQueryBuilder.prototype.cleanup = function () {\n        // end a group if we have started one\n        if (this.openGroups > 0) {\n            warn(\n            // apparently-p*rettier-ignore causes prettier to strip *all* comments O_o\n            \"Automatically closing \" + this.openGroups + \" group(s). You can use `endGroup(...)` to remove this warning.\");\n            while (this.openGroups > 0) {\n                this.q += \")\";\n                this.openGroups--;\n            }\n        }\n        var oldQ = this.q;\n        this.q = oldQ.replace(/( AND ?| NOT ?| OR ?)*$/, \"\");\n        if (oldQ !== this.q) {\n            warn(\"`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified.\");\n        }\n        // clear empty groups\n        this.q = this.q.replace(/(\\(\\))*/, \"\");\n    };\n    return SearchQueryBuilder;\n}());\nexport { SearchQueryBuilder };\n//# sourceMappingURL=SearchQueryBuilder.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { request, appendCustomParams, } from \"@esri/arcgis-rest-request\";\nimport { SearchQueryBuilder } from \"./SearchQueryBuilder\";\nimport { getPortalUrl } from \"../util/get-portal-url\";\nexport function genericSearch(search, searchType) {\n    var options;\n    if (typeof search === \"string\" || search instanceof SearchQueryBuilder) {\n        options = {\n            httpMethod: \"GET\",\n            params: {\n                q: search,\n            },\n        };\n    }\n    else {\n        // searchUserAccess has one (knonw) valid value: \"groupMember\"\n        options = appendCustomParams(search, [\n            \"q\",\n            \"num\",\n            \"start\",\n            \"sortField\",\n            \"sortOrder\",\n            \"searchUserAccess\",\n            \"searchUserName\",\n            \"filter\",\n            \"countFields\",\n            \"countSize\",\n            \"categories\",\n            \"categoryFilters\",\n        ], {\n            httpMethod: \"GET\",\n        });\n    }\n    var path;\n    switch (searchType) {\n        case \"item\":\n            path = \"/search\";\n            break;\n        case \"group\":\n            path = \"/community/groups\";\n            break;\n        case \"groupContent\":\n            // Need to have groupId property to do group contents search,\n            // cso filter out all but ISearchGroupContentOptions\n            if (typeof search !== \"string\" &&\n                !(search instanceof SearchQueryBuilder) &&\n                search.groupId) {\n                path = \"/content/groups/\" + search.groupId + \"/search\";\n            }\n            else {\n                return Promise.reject(new Error(\"you must pass a `groupId` option to `searchGroupContent`\"));\n            }\n            break;\n        default:\n            // \"users\"\n            path = \"/portals/self/users/search\";\n            break;\n    }\n    var url = getPortalUrl(options) + path;\n    // send the request\n    return request(url, options).then(function (r) {\n        if (r.nextStart && r.nextStart !== -1) {\n            r.nextPage = function () {\n                var newOptions;\n                if (typeof search === \"string\" ||\n                    search instanceof SearchQueryBuilder) {\n                    newOptions = {\n                        q: search,\n                        start: r.nextStart,\n                    };\n                }\n                else {\n                    newOptions = search;\n                    newOptions.start = r.nextStart;\n                }\n                return genericSearch(newOptions, searchType);\n            };\n        }\n        return r;\n    });\n}\n//# sourceMappingURL=generic-search.js.map","/* Copyright (c) 2018-2019 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { genericSearch } from \"../util/generic-search\";\n/**\n * ```js\n * import { searchItems } from \"@esri/arcgis-rest-portal\";\n * //\n * searchItems('water')\n *   .then(response) // response.total => 355\n * ```\n * Search a portal for items. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/search.htm) for more information.\n *\n * @param search - A string or RequestOptions object to pass through to the endpoint.\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function searchItems(search) {\n    return genericSearch(search, \"item\");\n}\n//# sourceMappingURL=search.js.map","/**\n * Defines an enum for common booleans used to create a search filter\n */\nexport var IBooleanOperator;\n(function (IBooleanOperator) {\n    IBooleanOperator[\"AND\"] = \"AND\";\n    IBooleanOperator[\"OR\"] = \"OR\";\n    IBooleanOperator[\"NOT\"] = \"NOT\";\n})(IBooleanOperator || (IBooleanOperator = {}));\n//# sourceMappingURL=content.js.map","var DATE_FILTER_FIELDS = [\"created\", \"modified\"];\n/**\n * Determines if filter value is a non-empty string\n * @param filterValue - a filter value\n */\nexport function isFilterANonEmptyString(filterValue) {\n    return filterValue && typeof filterValue === \"string\";\n}\n/**\n * Determines if filter value is a non-empty array\n * @param filterValue - a filter value\n */\nexport function isFilterAnArrayWithData(filterValue) {\n    return Array.isArray(filterValue) && filterValue.length > 0;\n}\n/**\n * Determines if filter is non-falsey and corresponds to a date field\n * @param filterValue - a filter's field name\n * @param filterValue - a filter's value\n */\nexport function isFilterFieldADateRange(filterField, filterValue) {\n    return DATE_FILTER_FIELDS.indexOf(filterField) >= 0 && filterValue;\n}\n//# sourceMappingURL=common.js.map","import { Logger, atob as decode } from \"@esri/hub-common\";\nimport { IBooleanOperator, } from \"../../types/content\";\nimport { isFilterAnArrayWithData, isFilterANonEmptyString, isFilterFieldADateRange, } from \"./common\";\nvar TERM_FIELD = \"terms\";\nvar DEFAULT_FILTERS = ['(-type: \"code attachment\")'];\nvar STRING_ENCLOSED_FILTER_FIELDS = [\n    \"title\",\n    \"type\",\n    \"typekeywords\",\n    \"description\",\n    \"tags\",\n    \"snippet\",\n    \"categories\",\n];\n/**\n * Converts the common request format of contentSearch to a format specific to the Portal API\n * @param request - the IContentSearchRequest instance for searching\n */\nexport function convertToPortalParams(request, defaultPortal, defaultAuthentication) {\n    var q = processFilter(request);\n    var paging = processPage(request) || { start: 1, num: 10 };\n    return createSearchOptions(q, paging, request.options, defaultPortal, defaultAuthentication);\n}\nfunction processFilter(request) {\n    var filter = request.filter || {};\n    var filters = Object.keys(filter).reduce(function (arr, key) {\n        var clause = convertToPortalFilterClause(key, filter[key]);\n        if (clause) {\n            arr.push(clause);\n        }\n        return arr;\n    }, []);\n    var filtersWithDefaults = addDefaultFilters(filters);\n    return filtersWithDefaults.join(\" AND \").trim();\n}\n/**\n * Processes the paging parameters provided as part of a search request\n * @param request content search request\n */\nexport function processPage(request) {\n    var options = request.options || {};\n    var providedPage = options.page || {\n        start: 1,\n        num: 10,\n    };\n    return typeof providedPage === \"string\"\n        ? decodePage(providedPage)\n        : providedPage;\n}\nfunction createSearchOptions(q, page, options, defaultPortal, defaultAuthentication) {\n    if (options === void 0) { options = {}; }\n    return {\n        q: q,\n        sortOrder: options.sortOrder,\n        sortField: options.sortField,\n        params: {\n            countFields: options.aggregations,\n            countSize: options.aggregations ? 200 : undefined,\n            start: page.start,\n            num: page.num,\n        },\n        bbox: options.bbox,\n        portal: options.portal || defaultPortal,\n        authentication: options.authentication || defaultAuthentication,\n        httpMethod: \"POST\",\n    };\n}\nfunction convertToPortalFilterClause(filterField, filterValue) {\n    if (isFilterANonEmptyString(filterValue)) {\n        return processStringFilter(filterField, filterValue);\n    }\n    else if (isFilterAnArrayWithData(filterValue)) {\n        return processArrayFilter(filterField, filterValue);\n    }\n    else if (isFilterFieldADateRange(filterField, filterValue)) {\n        return processDateField(filterField, filterValue);\n    }\n    else {\n        return processFieldFilter(filterField, filterValue);\n    }\n}\nfunction addDefaultFilters(filters) {\n    return filters.concat(DEFAULT_FILTERS);\n}\nfunction processStringFilter(filterField, filterValue) {\n    if (filterField === TERM_FIELD) {\n        return \"(\" + stringifyFilterValue(filterField, filterValue) + \")\";\n    }\n    return \"(\" + filterField + \": \" + stringifyFilterValue(filterField, filterValue) + \")\";\n}\nfunction processArrayFilter(filterField, filterArray) {\n    var filters = filterArray.map(function (filter) {\n        return stringifyFilterValue(filterField, filter);\n    });\n    return \"(\" + filterField + \": \" + filters.join(\" OR \" + filterField + \": \") + \")\";\n}\nfunction processDateField(filterField, filterValue) {\n    return \"(\" + filterField + \": [\" + (filterValue.from || 0) + \" TO \" + (filterValue.to || new Date().getTime()) + \"])\";\n}\nfunction processFieldFilter(filterField, contentFilter) {\n    if (!contentFilter || !isFilterAnArrayWithData(contentFilter.value)) {\n        return undefined;\n    }\n    var operator = contentFilter.bool || IBooleanOperator.OR;\n    var filters = contentFilter.value.map(function (filter) {\n        return stringifyFilterValue(filterField, filter);\n    });\n    if (operator === IBooleanOperator.NOT) {\n        return \"(-\" + filterField + \": \" + filters.join(\" AND -\" + filterField + \": \") + \")\";\n    }\n    else {\n        return \"(\" + filterField + \": \" + filters.join(\" \" + operator.toString() + \" \" + filterField + \": \") + \")\";\n    }\n}\nfunction stringifyFilterValue(filterField, filterValue) {\n    return STRING_ENCLOSED_FILTER_FIELDS.indexOf(filterField) >= 0\n        ? \"\\\"\" + filterValue + \"\\\"\"\n        : filterValue;\n}\nfunction decodePage(page) {\n    try {\n        var decodedPage = decode(page);\n        if (decodedPage === null) {\n            throw new Error();\n        }\n        return JSON.parse(decodedPage);\n    }\n    catch (err) {\n        Logger.error(\"error decoding and parsing the provided page: \" + page + \". Defaulting to starting page\");\n        return undefined;\n    }\n}\n//# sourceMappingURL=convert-request-to-portal-params.js.map","import { IBooleanOperator, } from \"../../types/content\";\nimport { isFilterAnArrayWithData, isFilterANonEmptyString, isFilterFieldADateRange, } from \"./common\";\nvar TERM_FIELD = \"terms\";\nvar VALID_CATALOG_PROPS = [\"id\", \"orgid\", \"group\", \"initiativeid\"];\n// Necessary to map Portal API-supported properties to Hub Indexer Search API properties\nvar PROP_MAP = {\n    group: \"groupIds\",\n    title: \"name\",\n    typekeywords: \"typeKeywords\",\n    orgid: \"orgId\",\n    initiativeid: \"initiativeId\",\n};\n// Necessary to map Portal API-supported values of properties to Hub Indexer Search API properties\nvar VALUE_MAP = {\n    access: {\n        org: \"organization\",\n        shared: \"team\",\n        private: \"myself\",\n    },\n};\n/**\n * Converts the common request format of contentSearch to a format specific to the Hub V3 Search API\n * @param request - the IContentSearchRequest instance for searching\n */\nexport function convertToHubParams(request) {\n    var _a = splitFilterTerms(request), termField = _a.termField, filterFields = _a.filterFields, catalogFields = _a.catalogFields;\n    var filter = Object.keys(filterFields).length\n        ? processFilter(filterFields)\n        : undefined;\n    var catalog = Object.keys(catalogFields).length\n        ? processCatalog(catalogFields)\n        : undefined;\n    var paging = processPage(request);\n    return createSearchOptions({\n        termField: termField,\n        filter: filter,\n        catalog: catalog,\n        paging: paging,\n        options: request.options,\n    });\n}\nfunction splitFilterTerms(request) {\n    var filter = request.filter || {};\n    return Object.keys(filter).reduce(function (filterObj, key) {\n        var hubKey = PROP_MAP[key] ? PROP_MAP[key] : key;\n        if (isFilterATerm(key)) {\n            filterObj.termField = filter[key];\n        }\n        else if (isFilterACatalogFilter(key)) {\n            filterObj.catalogFields[hubKey] = filter[key];\n        }\n        else {\n            filterObj.filterFields[hubKey] = filter[key];\n        }\n        return filterObj;\n    }, { termField: undefined, filterFields: {}, catalogFields: {} });\n}\nfunction processFilter(filterFields) {\n    return Object.keys(filterFields).reduce(function (filterObj, key) {\n        var clause = convertToHubFilterClause(key, filterFields[key]);\n        if (clause) {\n            filterObj[key] = clause;\n        }\n        return filterObj;\n    }, {});\n}\nfunction processCatalog(catalogFields) {\n    return Object.keys(catalogFields).reduce(function (catalogObj, key) {\n        var clause = convertToHubFilterClause(key, catalogFields[key]);\n        if (clause) {\n            catalogObj[key] = clause;\n        }\n        return catalogObj;\n    }, {});\n}\nfunction processPage(request) {\n    var options = request.options || {};\n    return options.page;\n}\nfunction createSearchOptions(params) {\n    var options = params.options || {};\n    var sort = createSort(options.sortField, options.sortOrder);\n    var agg = getAggregations(options.aggregations);\n    var fields = getFields(options.fields);\n    var searchParams = {\n        q: params.termField || undefined,\n        sort: sort,\n        filter: params.filter,\n        catalog: params.catalog,\n        page: params.paging && { key: params.paging },\n        agg: agg,\n        fields: fields,\n    };\n    return searchParams;\n}\nfunction convertToHubFilterClause(filterField, filterValue) {\n    if (isFilterANonEmptyString(filterValue)) {\n        return processArrayFilter(filterField, [filterValue]);\n    }\n    else if (isFilterAnArrayWithData(filterValue)) {\n        return processArrayFilter(filterField, filterValue);\n    }\n    else if (isFilterFieldADateRange(filterField, filterValue)) {\n        return processDateField(filterValue);\n    }\n    else {\n        return processFieldFilter(filterValue);\n    }\n}\nfunction processArrayFilter(field, filterArray) {\n    var modifiedFilterValues = filterArray.map(function (filter) {\n        if (VALUE_MAP[field] && VALUE_MAP[field][filter]) {\n            return VALUE_MAP[field][filter];\n        }\n        return filter;\n    });\n    return \"any(\" + modifiedFilterValues.join(\",\") + \")\";\n}\nfunction processDateField(dateFilterValue) {\n    var from = dateFilterValue.from || 0;\n    var to = dateFilterValue.to || new Date().getTime();\n    return \"between(\" + convertDateEpochToString(from) + \",\" + convertDateEpochToString(to) + \")\";\n}\nfunction processFieldFilter(contentFilter) {\n    if (!contentFilter || !isFilterAnArrayWithData(contentFilter.value)) {\n        return undefined;\n    }\n    var operator = contentFilter.bool || IBooleanOperator.OR;\n    var hubOperator = convertToHubOperator(operator);\n    var filters = contentFilter.value;\n    return hubOperator + \"(\" + filters.join(\",\") + \")\";\n}\nfunction convertDateEpochToString(epoch) {\n    var date = new Date(epoch).toISOString();\n    return date.substring(0, 10);\n}\nfunction convertToHubOperator(operator) {\n    if (operator === IBooleanOperator.NOT) {\n        return \"not\";\n    }\n    else if (operator === IBooleanOperator.AND) {\n        return \"all\";\n    }\n    return \"any\";\n}\nfunction isFilterATerm(filterField) {\n    return TERM_FIELD === filterField;\n}\nfunction isFilterACatalogFilter(filterField) {\n    return VALID_CATALOG_PROPS.indexOf(filterField) >= 0;\n}\nfunction createSort(sortField, sortOrder) {\n    if (!sortField || sortField.toLowerCase() === \"relevance\") {\n        return undefined;\n    }\n    var hubSortField = PROP_MAP[sortField] ? PROP_MAP[sortField] : sortField;\n    var order = sortOrder && sortOrder.toLowerCase() === \"desc\" ? \"-\" : \"\";\n    return \"\" + order + hubSortField;\n}\nfunction getAggregations(aggregations) {\n    return aggregations\n        ? {\n            fields: aggregations,\n        }\n        : undefined;\n}\nfunction getFields(fields) {\n    return fields\n        ? {\n            datasets: fields,\n        }\n        : undefined;\n}\n//# sourceMappingURL=convert-request-to-hub-params.js.map","import { searchItems, } from \"@esri/arcgis-rest-portal\";\nimport { cloneObject, itemToContent } from \"@esri/hub-common\";\n/**\n * Converts the response format returned by the Portal API to a common format\n * @param request - the ISearchOptions instance used to invoke the request\n * @param response - the ISearchResult JSON returned by the Portal API\n */\nexport function convertPortalResponse(request, response) {\n    var results = response.results.map(itemToContent);\n    var count = response.num;\n    var total = response.total;\n    var hasNext = response.nextStart > -1;\n    var query = response.query;\n    var aggregations = response.aggregations\n        ? mapAggregations(response.aggregations)\n        : undefined;\n    var next = getNextFunction(request, response.nextStart, response.total);\n    return {\n        results: results,\n        count: count,\n        total: total,\n        hasNext: hasNext,\n        query: query,\n        aggregations: aggregations,\n        next: next,\n    };\n}\nfunction mapAggregations(aggregations) {\n    return Object.keys(aggregations).reduce(function (contentAggs, aggType) {\n        // Built in as a safety if Portal returns unsupported aggregations\n        /* istanbul ignore else */\n        if (aggType.toLowerCase() === \"counts\") {\n            contentAggs.counts = mapCountAggregations(aggregations[aggType]);\n        }\n        return contentAggs;\n    }, {});\n}\nfunction mapCountAggregations(countAggs) {\n    return countAggs.map(function (agg) {\n        var mappedAggs = agg.fieldValues.map(function (aggValue) { return ({\n            label: aggValue.value,\n            value: aggValue.count,\n        }); });\n        return {\n            fieldName: agg.fieldName,\n            aggregations: mappedAggs,\n        };\n    });\n}\nfunction getNextFunction(request, nextStart, total) {\n    var clonedRequest = cloneObject(request);\n    // Authentication not properly cloned\n    clonedRequest.authentication = request.authentication;\n    clonedRequest.start = nextStart > -1 ? nextStart : total + 1;\n    return function (authentication) {\n        if (authentication) {\n            clonedRequest.authentication = authentication;\n        }\n        return searchItems(clonedRequest).then(function (response) {\n            return convertPortalResponse(clonedRequest, response);\n        });\n    };\n}\n//# sourceMappingURL=convert-portal-response.js.map","import { datasetToContent, getProp } from \"@esri/hub-common\";\nvar PROP_MAP = {\n    title: \"name\",\n};\n/**\n * Converts the response format returned by the Hub Indexer V3 API to a common format\n * @param request - the ISearchParams instance used to invoke the request\n * @param response - the JSON returned by the Hub Indexer V3 API\n * @param defaultAuthentication - a default UserSession instance that can be used for the next() request if none provided\n */\nexport function convertHubResponse(request, response, defaultAuthentication) {\n    if (response === void 0) { response = { data: [], meta: {} }; }\n    var results = response.data.map(datasetToContent);\n    var _a = getResponseMetadata(response), count = _a.count, total = _a.total, hasNext = _a.hasNext, query = _a.query, aggregations = _a.aggregations;\n    var next = getNextFunction(request, response, hasNext, defaultAuthentication);\n    return {\n        results: results,\n        count: count,\n        total: total,\n        hasNext: hasNext,\n        query: query,\n        aggregations: aggregations ? mapAggregations(aggregations) : undefined,\n        next: next,\n    };\n}\nfunction mapAggregations(aggregations) {\n    return {\n        counts: mapCountAggregations(aggregations),\n    };\n}\nfunction mapCountAggregations(countAggs) {\n    return Object.keys(countAggs).map(function (aggKey) {\n        var aggregations = countAggs[aggKey]\n            ? countAggs[aggKey].map(function (agg) { return ({\n                label: agg.key.toLowerCase(),\n                value: agg.docCount,\n            }); })\n            : [];\n        return {\n            fieldName: aggKey,\n            aggregations: aggregations,\n        };\n    });\n}\nfunction getNextFunction(request, response, hasNext, defaultAuthentication) {\n    return function (auth) {\n        var authentication = auth || defaultAuthentication;\n        var headers = authentication &&\n            authentication.serialize &&\n            new Headers({ authentication: authentication.serialize() });\n        if (hasNext) {\n            // should this use hubRequest instead of fetch?\n            return fetch(response.meta.next, {\n                method: \"GET\",\n                mode: \"cors\",\n                headers: headers,\n            })\n                .then(function (res) { return res.json(); })\n                .then(function (res) { return convertHubResponse(request, res, defaultAuthentication); });\n        }\n        var metadata = getResponseMetadata(response);\n        return Promise.resolve({\n            results: [],\n            count: 0,\n            total: metadata.total,\n            hasNext: false,\n            query: metadata.query,\n            aggregations: metadata.aggregations\n                ? mapAggregations(metadata.aggregations)\n                : undefined,\n            next: getNextFunction(request, response, false),\n        });\n    };\n}\nfunction getResponseMetadata(response) {\n    var respQuery = getProp(response, \"meta.queryParameters\");\n    var query = respQuery ? JSON.stringify(respQuery) : undefined;\n    var respAggregations = getProp(response, \"meta.stats.aggs\") || {};\n    var aggregations = Object.keys(respAggregations).length > 0 ? respAggregations : undefined;\n    return {\n        count: getProp(response, \"meta.stats.count\") || 0,\n        total: getProp(response, \"meta.stats.totalCount\") || 0,\n        hasNext: !!getProp(response, \"meta.next\"),\n        query: query,\n        aggregations: aggregations,\n    };\n}\n//# sourceMappingURL=convert-hub-response.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getHubApiUrl, getProp, hubApiSearch, fetchSite, getPortalApiUrl, setContentSiteUrls, } from \"@esri/hub-common\";\nimport { searchItems } from \"@esri/arcgis-rest-portal\";\nimport { convertToPortalParams } from \"./helpers/convert-request-to-portal-params\";\nimport { convertToHubParams } from \"./helpers/convert-request-to-hub-params\";\nimport { convertPortalResponse } from \"./helpers/convert-portal-response\";\nimport { convertHubResponse } from \"./helpers/convert-hub-response\";\n/**\n * A search service for searching content across the Portal API only or Portal API and the\n * Hub Indexer V3 API. Has a single public method for searching.\n *\n * @param portal The Portal Sharing URL of the portal for which content should be searched\n * @param isPortal Flag to determine if content searching should be limited to a Portal API\n * @param authentication Optional User Session instance that can be used for authentication\n *\n * ```js\n * import { ContentSearchService } from '@esri/hub-search'\n *\n * const service = new ContentSearchService({\n *     portal: 'https://hub.arcgis.com/sharing/rest,\n *     isPortal: false\n *     session: new UserSession({ ... })\n * });\n *\n * const searchResults = await service.search({ filters, options })\n * ```\n */\nvar ContentSearchService = /** @class */ (function () {\n    function ContentSearchService(params) {\n        this.portal = params.portal;\n        this.isPortal = params.isPortal;\n        this.authentication = params.authentication;\n    }\n    /**\n     * Entrypoint for Portal API-only or Portal API and Hub V3 API Search\n     * @param request - the IContentSearchRequest instance for searching\n     */\n    ContentSearchService.prototype.search = function (request) {\n        var isPortal = getProp(request, \"options.isPortal\") || this.isPortal;\n        if (isPortal) {\n            return this.enterpriseSearch(request);\n        }\n        return this.onlineSearch(request);\n    };\n    ContentSearchService.prototype.enterpriseSearch = function (request) {\n        if (request === void 0) { request = { filter: {}, options: {} }; }\n        return performEnterpriseContentSearch(request, this.portal, this.authentication);\n    };\n    ContentSearchService.prototype.onlineSearch = function (request) {\n        if (request === void 0) { request = { filter: {}, options: {} }; }\n        // merge instance's portal and authentication into options\n        var _a = this, portal = _a.portal, authentication = _a.authentication;\n        var options = __assign({ portal: portal, authentication: authentication }, request.options);\n        return performHubContentSearch(__assign(__assign({}, request), { options: options }));\n    };\n    return ContentSearchService;\n}());\nexport { ContentSearchService };\n/**\n * A standalone function for searching Hub content\n *\n * A content search is configured by passing `searchContent` an object of type `IContentSearchRequest`.\n * This configuration object is composed of two important child objects: `filter` and `options`.\n *\n * The `filter` object allows the caller to filter results based on attributes exposed by AGO and\n * the Hub API. A complete list of attributes can be found at the docs for `IContentSearchFilter`,\n * but some examples include:\n * - access\n * - id\n * - group\n * - orgid\n *\n * The `options` object allows the caller to specify more general attributes about the request itself.\n * A complete list of options can be found at the docs for `IContentSearchOptions`, but some examples include:\n * - the authenticated user\n * - whether the call is happening in an enterprise environment\n * - what site catalog to search\n *\n * Combined, both filters and options allow you to create complex queries against AGO / Hub API.\n * Here are examples of some common use cases:\n *\n * ```js\n * import { searchContent, IBooleanOperator } from '@esri/hub-search';\n * ...\n *\n * /////////////////////////////////////////////////////////////////////\n * // Search for all public and private content associated with a site\n * /////////////////////////////////////////////////////////////////////\n * const options: IContentSearchOptions = {\n *    site: 'https://my-site.hub.arcgis.com',\n *    portal: 'https://www.arcgis.com',\n *    // Any private content that the authenticated user can access will be included in the results\n *    authentication: new UserSession(...),\n * }\n * const searchResults = await searchContent({ options });\n * ...\n *\n * ///////////////////////////////////////////////////////////\n * // Search for all public content associated with a site\n * ///////////////////////////////////////////////////////////\n * const options: IContentSearchOptions = {\n *    site: 'https://my-site.hub.arcgis.com',\n *    portal: 'https://www.arcgis.com',\n *    authentication: new UserSession(...),\n * }\n * const filter: IContentSearchFilter = {\n *    access: 'public'\n * }\n * const searchResults = await searchContent({ filter, options });\n * ...\n *\n * //////////////////////////////////////////////////////////\n * // Search for all private content associated with a site\n * ///////////////////////////////////////////////////////////\n *\n * // TODO: As of 8/17/21 the hub api has a bug in which\n * // Any query with a not filter on the access field\n * // (e.g access: not('public')) will return no results\n *\n * const options: IContentSearchOptions = {\n *    site: 'https://my-site.hub.arcgis.com',\n *    portal: 'https://www.arcgis.com',\n *    // Any private content that the authenticated user can access will be included in the results\n *    authentication: new UserSession(...),\n * }\n * const filter: IContentSearchFilter = {\n *    access: {\n *        value: ['public'],\n *        bool: IBooleanOperator.NOT\n *    }\n * }\n * const searchResults = await searchContent({ filter, options });\n *\n * ...\n * /////////////////////////////////\n * // Search for a specific item\n * /////////////////////////////////\n * const options: IContentSearchOptions = {\n *    portal: 'https://www.arcgis.com',\n *    authentication: new UserSession(...),\n * }\n * const filter: IContentSearchFilter = {\n *    id: 'my_item_id'\n * }\n * const searchResults = await searchContent({ filter, options });\n * ```\n * There are a couple gotchas that need to be accounted for:\n *\n * 1) There is no way to specify the number of results per page. If you need to fetch all\n * items that match a given query, you'll need to utilize the `hasNext` flag as well as the\n * `next` function included on the return object and make multiple XHR requests.\n *\n * 2) Results returned from the hub index (i.e. 'public items') will be structured differently than\n * results returned from AGO/Enterprise (i.e. 'private' items). A comprehensive list of differences cannot\n * be given here, but developers should be aware that they exist. Additionally, the structure of 'public'\n * items can change when either the indexing process or schema of the Hub API is modified. To showcase\n * some of the possible differences between 'public' and 'private' items, we've provided examples of both\n * types of results below:\n *\n * ```js\n * ///////////////\n * // Private\n * ///////////////\n * {\n *  access: \"myself\",\n *  appCategories: [],\n *  avgRating: 0,\n *  categories: [],\n *  collection: [\"Map\"],\n *  contentOrigin: \"self\",\n *  created: 1623945553000,\n *  culture: \"en-us\",\n *  description: “A description\",\n *  extent: {\n *    coordinates: [],\n *    type: \"envelope\"\n *  },\n *  hubType: \"map\",\n *  id: \"06c0cdadc2ec48509576c20da8572bf8\",\n *  industries: [],\n *  isOrgItem: true,\n *  languages: [],\n *  listed: false,\n *  modified: 1629220743000,\n *  name: \"Traffic Camera Enforcement Locations in Washington DC\",\n *  numComments: 0,\n *  numRatings: 0,\n *  numViews: 0,\n *  owner: \"juliana_pa\",\n *  properties: {...}\n *  protected: false,\n *  scoreCompleteness: 66,\n *  screenshots: [],\n *  searchDescription: “A description”,\n *  size: -1,\n *  subInfo: 0,\n *  tags: [\"DC GIS\", \"police\", \"speed\", \"speeding\", \"ticket\", \"traffic\", \"violation\"],\n *  thumbnail: \"thumbnail/ago_downloaded.png\",\n *  title: \"Traffic Camera Enforcement Locations in Washington DC\",\n *  type: \"Web Map\",\n *  typeKeywords: [\"ArcGIS Online\", \"Explorer Web Map\", \"Map\", \"Online Map\", \"Web Map\"],\n * }\n *\n * /////////////\n * // Public\n * /////////////\n * {\n *  access: \"public\",\n *  additionalResources: []\n *  boundary: {...}\n *  categories: []\n *  collection: [\"Map\"]\n *  commentsEnabled: true\n *  composeStatus: {...}\n *  composedAt: 1629220762412\n *  content: \"Web Map\"\n *  created: 1619446871000\n *  culture: \"en-us\"\n *  description: \"A pretty brief summary\"\n *  downloadable: false\n *  enrichCoverage: \"global\"\n *  enrichQuality: 55\n *  errors: []\n *  extent: {...}\n *  groupIds: []\n *  hasApi: false\n *  hubType: \"Web Map\"\n *  id: \"ebfe6f6712ff4a23b5447f0ce53d65c2\"\n *  itemExtent: [...]\n *  itemModified: 1629220760000\n *  license: \"none\"\n *  modified: 1629220760000\n *  modifiedProvenance: \"item.modified\"\n *  name: \"My map\"\n *  openData: false\n *  orgExtent: {...}\n *  orgId: \"Xj56SBi2udA78cC9\"\n *  orgName: \"QA Premium Alpha Hub\"\n *  organization: \"QA Premium Alpha Hub\"\n *  owner: \"juliana_pa\"\n *  region: \"US\"\n *  searchDescription: \"A pretty brief summary\"\n *  server: null\n *  size: 1142\n *  slug: \"qa-pre-a-hub::my-map\"\n *  snippet: \"A pretty brief summary\"\n *  source: \"QA Premium Alpha Hub\"\n *  sourceProvenance: \"org.name\"\n *  structuredLicense: { type: \"none\" }\n *  tags: []\n *  thumbnail: \"thumbnail/ago_downloaded.png\"\n *  thumbnailUrl: \"thumbnail/ago_downloaded.png\"\n *  title: \"My map\"type: \"Web Map\"\n *  typeCategories: [\"Map\"]\n *  typeKeywords: [\"ArcGIS Hub\", \"ArcGIS Online\", \"Explorer Web Map\", \"Map\", \"Online Map\", \"Web Map\"]\n *  validExtent: true\n * }\n * ```\n *\n * @param request - the IContentSearchRequest instance for searching\n *\n */\nexport function searchContent(request) {\n    var _a;\n    if (request === void 0) { request = { filter: {}, options: {} }; }\n    return __awaiter(this, void 0, void 0, function () {\n        var siteModel, siteCatalog, group, orgid, response, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, getSiteModelFromOptions(request.options)];\n                case 1:\n                    siteModel = _c.sent();\n                    siteCatalog = (_a = siteModel === null || siteModel === void 0 ? void 0 : siteModel.data) === null || _a === void 0 ? void 0 : _a.catalog;\n                    if (siteCatalog) {\n                        group = siteCatalog.groups, orgid = siteCatalog.orgId;\n                        request.filter = __assign({ group: group, orgid: orgid }, request.filter);\n                    }\n                    if (!getProp(request, \"options.isPortal\")) return [3 /*break*/, 3];\n                    return [4 /*yield*/, performEnterpriseContentSearch(request)];\n                case 2:\n                    _b = _c.sent();\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, performHubContentSearch(request)];\n                case 4:\n                    _b = _c.sent();\n                    _c.label = 5;\n                case 5:\n                    response = _b;\n                    if (siteModel) {\n                        // append the absolute URL to the content on the site\n                        response.results = response.results.map(function (content) {\n                            return setContentSiteUrls(content, siteModel);\n                        });\n                    }\n                    return [2 /*return*/, response];\n            }\n        });\n    });\n}\nfunction performEnterpriseContentSearch(request, defaultPortal, defaultAuthentication) {\n    var requestParams = convertToPortalParams(request, defaultPortal, defaultAuthentication);\n    return searchItems(requestParams).then(function (response) {\n        return convertPortalResponse(requestParams, response);\n    });\n}\n/**\n * Function to search the Hub API (v3)\n * using the same arguments as searchContent()\n *\n * NOTE: this returns the Hub API's raw JSONAPI response\n * and invalid parameters like isPortal will be ignored\n *\n * @param request - see searchContent()\n * @returns Hub API's JSONAPI response\n */\nexport function searchDatasets(request) {\n    var params = convertToHubParams(request);\n    var requestOptions = __assign(__assign({}, getHubRequestOptions(request.options)), { params: params });\n    return hubApiSearch(requestOptions);\n}\nfunction performHubContentSearch(request) {\n    var authentication = getProp(request, \"options.authentication\");\n    return searchDatasets(request).then(function (response) {\n        var requestParams = convertToHubParams(request);\n        return convertHubResponse(requestParams, response, authentication);\n    });\n}\nfunction getSiteModelFromOptions(options) {\n    if (!options || !options.site)\n        return null;\n    var ro = getHubRequestOptions(options);\n    return fetchSite(options.site, ro);\n}\n// used above\nfunction getHubRequestOptions(options) {\n    return {\n        authentication: options.authentication,\n        isPortal: options.isPortal,\n        hubApiUrl: getHubApiUrl(options.portal),\n        portal: getPortalApiUrl(options.portal),\n    };\n}\n//# sourceMappingURL=index.js.map","import { getProp, categories } from \"@esri/hub-common\";\nvar apiTypes = categories.apiTypes.map(function (type) { return type.toLowerCase(); });\n// implements the 'hasApi' facet from AGO results. V3 datasets have this property computed\n// during the harvesting process but AGO results need this result computed at runtime\nexport function hasApiAgg(agoAggregations) {\n    if (agoAggregations === void 0) { agoAggregations = {}; }\n    var typeAggs = (getProp(agoAggregations, \"counts\") || []).filter(function (agg) { return agg.fieldName === \"type\"; })[0];\n    if (!typeAggs)\n        return { hasApi: {} };\n    return typeAggs.fieldValues.reduce(function (formattedAggs, fieldVal) {\n        if (apiTypes.indexOf(fieldVal.value) > -1) {\n            formattedAggs.hasApi.true += fieldVal.count;\n        }\n        else {\n            formattedAggs.hasApi.false += fieldVal.count;\n        }\n        return formattedAggs;\n    }, { hasApi: { true: 0, false: 0 } });\n}\n//# sourceMappingURL=has-api.js.map","import { categories } from \"@esri/hub-common\";\n// implements the 'downloadable' facet from AGO results. V3 datasets have this property computed\n// during the harvesting process but AGO results need this result computed at runtime\nexport function downloadableAgg(response) {\n    // Get counts of true and false for downloadable facet\n    // i.e. { true: 10, false: 15 }\n    return response.results.reduce(function (formattedAggs, result) {\n        if ((result.typeKeywords || []).indexOf(\"Data\") > -1 ||\n            categories.downloadableTypes.indexOf(result.type) > -1) {\n            formattedAggs.downloadable.true++;\n        }\n        else {\n            formattedAggs.downloadable.false++;\n        }\n        return formattedAggs;\n    }, { downloadable: { true: 0, false: 0 } });\n}\n//# sourceMappingURL=downloadable.js.map","import { getCategory, getProp } from \"@esri/hub-common\";\n// implements the 'collection' facet from AGO results. V3 datasets have this property computed\n// during the harvesting process but AGO results need this result computed at runtime\n/**\n * Calculate raw counts for collection based on AGO type aggregations\n * @param agoAggregations aggregations from ago results\n */\nexport function collectionAgg(agoAggregations) {\n    if (agoAggregations === void 0) { agoAggregations = {}; }\n    var typeAggs = (getProp(agoAggregations, \"counts\") || []).filter(function (agg) { return agg.fieldName === \"type\"; })[0];\n    if (!typeAggs)\n        return { collection: {} };\n    return typeAggs.fieldValues.reduce(function (formattedAggs, fieldVal) {\n        var category = getCategory(fieldVal.value);\n        var collectionType;\n        if (category) {\n            // upper case first letter and return as element in array for backwards compatibility\n            collectionType = category\n                .toLowerCase()\n                .split(\" \")\n                .map(function (word) { return word.charAt(0).toUpperCase() + word.slice(1); })\n                .join(\" \");\n        }\n        else {\n            collectionType = \"Other\";\n        }\n        formattedAggs.collection[collectionType] = fieldVal.count;\n        return formattedAggs;\n    }, { collection: {} });\n}\n//# sourceMappingURL=collection.js.map","// format raw counts for an agg field which has format like\n// { hasApi: { 'true': 2, 'false': 4 } } or { downloadable: { 'true': 7, 'false': 0 } }\n// into v3 like { hasApi: [{ key: 'false', docCount: 4 }, { key: 'true', docCount: 2 }] }\nexport function format(rawCounts) {\n    return Object.keys(rawCounts).reduce(function (formattedAggs, field) {\n        formattedAggs[field] = Object.keys(rawCounts[field])\n            .reduce(function (formatted, key) {\n            formatted.push({ key: key, docCount: rawCounts[field][key] });\n            return formatted;\n        }, [])\n            .sort(compareReverse);\n        return formattedAggs;\n    }, {});\n}\nfunction compareReverse(a, b) {\n    return b.docCount > a.docCount ? 1 : -1;\n}\n//# sourceMappingURL=format.js.map","var agoSupportedAggs = [\"tags\", \"type\", \"access\", \"categories\"];\nvar aggsAlias = {\n    collection: \"type\"\n};\n/**\n * Get aggreations query object that AGO understands i.e. countFields and countSize\n * only on fields supported by AGO\n * @param facets comma separated list of aggregation fields\n */\nexport function createAggs(facets) {\n    // return aggs that are supported by AGO - tags, type, access\n    var agoFacets = facets\n        .split(\",\")\n        .filter(function (facet) { return agoSupportedAggs.indexOf(facet) > -1; });\n    var aliases = facets\n        .split(\",\")\n        .filter(function (facet) { return Object.keys(aggsAlias).indexOf(facet) > -1; });\n    // if there is `collection` in facets, then check if its alias has already been added\n    Object.keys(aggsAlias).forEach(function (key) {\n        if (aliases.indexOf(key) > -1 && !(aggsAlias[key] in agoFacets)) {\n            agoFacets.push(aggsAlias[key]);\n        }\n    });\n    return {\n        countFields: agoFacets.join(\",\"),\n        countSize: 200 // max supported by AGO\n    };\n}\n//# sourceMappingURL=create-aggs.js.map","/**\n * Flatten categories as expected by Hub\n *\n * @param {any} categoriesAggs categories aggs array as [{ key, docCount }]\n * @returns {any}\n *\n * Input example:\n * [{ key: '/categories/economy', docCount: 4 }, { key: 'categories/economy/business', docCount: 5 }]\n * Output: [{ key: 'economy', docCount: 9 }, { key: 'business', docCount: 5 }]\n */\nexport function flattenCategories(categoriesAggs) {\n    if (categoriesAggs === void 0) { categoriesAggs = []; }\n    var set = new Set();\n    var exclude = [\"\", \"categories\"];\n    // 1. get a flattened unique set of categories\n    categoriesAggs.forEach(function (agg) {\n        var candidates = agg.key\n            .split(\"/\")\n            .filter(function (k) { return exclude.indexOf(k) === -1; });\n        candidates.forEach(function (k) {\n            set.add(k);\n        });\n    });\n    // 2. sum docCount for unique keys\n    var flattenedCategoriesAggs = Array.from(set).reduce(function (flattenedAggs, uniqueKey) {\n        var docCount = categoriesAggs\n            .filter(function (agg) { return agg.key.includes(uniqueKey); })\n            .map(function (agg) { return agg.docCount; })\n            .reduce(function (x, y) { return x + y; });\n        flattenedAggs.push({\n            key: uniqueKey,\n            docCount: docCount\n        });\n        return flattenedAggs;\n    }, []);\n    return flattenedCategoriesAggs;\n}\n//# sourceMappingURL=categories.js.map","var legalSortFields = [\n    \"title\",\n    \"created\",\n    \"type\",\n    \"owner\",\n    \"modified\",\n    \"avgrating\",\n    \"numratings\",\n    \"numcomments\",\n    \"numviews\"\n];\nvar hubSortFieldToAGOSortFieldMap = {\n    name: \"title\"\n};\nexport function getSortField(field) {\n    if (legalSortFields.indexOf(field) >= 0) {\n        return field;\n    }\n    else if (field in hubSortFieldToAGOSortFieldMap) {\n        return hubSortFieldToAGOSortFieldMap[field];\n    }\n}\n//# sourceMappingURL=sort.js.map","var filterSchema = {\n    orgId: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\",\n        catalogDefinition: true\n    },\n    q: { type: \"simple\" },\n    page: { type: \"simple\" },\n    tags: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    source: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    bbox: { type: \"simple\" },\n    location_name: { type: \"simple\" },\n    sort: { type: \"simple\" },\n    groupIds: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\",\n        catalogDefinition: true\n    },\n    catalog: { type: \"simple\" },\n    owner: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    access: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    type: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    hubType: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    downloadable: {\n        type: \"filter\",\n        dataType: \"boolean\"\n    },\n    hasApi: {\n        type: \"filter\",\n        dataType: \"boolean\"\n    },\n    openData: {\n        type: \"filter\",\n        dataType: \"boolean\"\n    },\n    id: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\",\n        catalogDefinition: true\n    },\n    collection: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    sector: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    region: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    initiativeId: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\",\n        catalogDefinition: true\n    },\n    categories: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    license: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"any\"\n    },\n    modified: {\n        type: \"filter\",\n        dataType: \"string\",\n        defaultOp: \"between\"\n    }\n};\nexport { filterSchema };\n//# sourceMappingURL=filter-schema.js.map","import { filterSchema } from \"./filter-schema\";\n/**\n * Create filters object based on raw params like tags=a,b or tags=any(a,b)\n *\n * @param {ISearchParams} params\n * @returns {any}\n */\n// return a standard filter object\n// given a query string that looks like this:\n//\n// ?tags=tag1,tag2&source=source1,source2\n//\n// This function will return a filter like:\n//\n// {\n//   filter: {\n//     tags: {\n//       fn: 'all',\n//       terms: [ 'tag1', 'tag2' ]\n//     },\n//     source: {\n//       fn: 'any',\n//       terms: [ 'source1', 'source2' ]\n//     }\n//   }\n// }\nexport function createFilters(params) {\n    if (!params) {\n        return {};\n    }\n    var filter = Object.keys(params).reduce(function (filters, key) {\n        var filterDefinition = filterSchema[key] || {};\n        if (params[key] &&\n            filterDefinition.type === \"filter\" &&\n            filterDefinition.dataType) {\n            var values = params[key];\n            filters[key] = generateFilter(values, filterDefinition);\n        }\n        return filters;\n    }, {});\n    return filter;\n}\nexport function generateFilter(values, filterDefinition) {\n    var match = values.match(/(any|all|between)\\((.+)\\)/);\n    if (match) {\n        return {\n            fn: match[1],\n            terms: match[2].split(\",\"),\n            catalogDefinition: filterDefinition.catalogDefinition\n        };\n    }\n    else {\n        return {\n            fn: filterDefinition.defaultOp || null,\n            terms: values.split(\",\"),\n            catalogDefinition: filterDefinition.catalogDefinition\n        };\n    }\n}\n//# sourceMappingURL=create-filters.js.map","export function encodeFilters(filters) {\n    if (filters === void 0) { filters = {}; }\n    return Object.keys(filters)\n        .map(function (name) {\n        var attribute = filters[name];\n        var fn = attribute.fn, terms = attribute.terms;\n        // filters that are part of the catalog definition are OR'd together then and-ed to the query\n        var type = attribute.catalogDefinition ? \"catalog\" : \"filter\";\n        var key = encodeURIComponent(type + \"[\" + name + \"]\");\n        var values = terms.map(encodeURIComponent).join(\",\");\n        return fn ? key + \"=\" + fn + \"(\" + values + \")\" : key + \"=\" + values;\n    })\n        .join(\"&\");\n}\n//# sourceMappingURL=encode-filters.js.map","import { getProp, addDays } from \"@esri/hub-common\";\nexport function buildFilter(queryFilters, key) {\n    var terms = getProp(queryFilters, key + \".terms\") || [];\n    var joinType = getProp(queryFilters, key + \".fn\");\n    // all params to AGO queries MUST be lower case, so we're going to force\n    // lowerCase here because we use `orgId` for Hub index, and need it as `orgid`\n    // for AGO. This will allow us to use whatever casing for Hub and still\n    // adhere to AGO requirements\n    var filter;\n    if (joinType === \"between\") {\n        var startDate = terms[0];\n        var endDate = terms[1];\n        if (startDate === endDate) {\n            // add 1 day\n            endDate = addDays(startDate, 1);\n        }\n        var timestamps = [startDate, endDate].map(function (term) {\n            return new Date(term).getTime();\n        });\n        filter = key.toLowerCase() + \": [\" + timestamps.join(agoJoin(joinType)) + \"]\";\n    }\n    else {\n        filter = terms\n            .map(function (term) { return key.toLowerCase() + \":\\\"\" + term + \"\\\"\"; })\n            .join(agoJoin(joinType));\n    }\n    if (joinType === \"not\") {\n        // \"not\" filter means everything but not those given terms\n        filter = \"NOT \" + filter;\n    }\n    return \"(\" + filter + \")\";\n}\n// This function returns the AGO-translation for the query types\n// 'any' -> ' OR '\n// 'all' => ' AND '\n// 'not' => ' NOT '\n// ... more filters to come, like the ones below\n// 'gt' => ...\n// 'lt' => ...\n// 'gte' => ...\n// 'lte' => ...\n// 'range' => ...\nfunction agoJoin(joinType) {\n    var key = joinType || \"any\";\n    var joinMap = {\n        any: \" OR \",\n        all: \" AND \",\n        not: \" NOT \",\n        between: \" TO \"\n    };\n    return joinMap[key];\n}\n//# sourceMappingURL=build-filter.js.map","import { getProp, categories } from \"@esri/hub-common\";\n// builds the filter for the 'downloadable' facet\nexport function downloadableFilter(queryFilters) {\n    var download = (getProp(queryFilters, \"downloadable.terms\") || [])[0];\n    var downloadFilter;\n    var typeKeywordFilter;\n    if (download === \"true\") {\n        downloadFilter = categories.downloadableTypes.map(function (type) {\n            return \"type:\\\"\" + type + \"\\\"\";\n        });\n        typeKeywordFilter = categories.downloadableTypeKeywords.map(function (type) {\n            return \"typekeywords:\\\"\" + type + \"\\\"\";\n        });\n    }\n    else {\n        downloadFilter = categories.downloadableTypes.map(function (type) {\n            return \"-type:\\\"\" + type + \"\\\"\";\n        });\n        typeKeywordFilter = categories.downloadableTypeKeywords.map(function (type) {\n            return \"-typekeywords:\\\"\" + type + \"\\\"\";\n        });\n    }\n    return \"(\" + downloadFilter.concat(typeKeywordFilter).join(\" OR \") + \")\";\n}\n//# sourceMappingURL=downloadable.js.map","import { getProp, categories } from \"@esri/hub-common\";\nexport function hasApiFilter(queryFilters) {\n    var hasApiTrue = (getProp(queryFilters, \"hasApi.terms\") || [])[0];\n    var apiFilter;\n    if (hasApiTrue) {\n        apiFilter = categories.apiTypes\n            .map(function (type) {\n            return \"type:\\\"\" + type + \"\\\"\";\n        })\n            .join(\" OR \");\n    }\n    else {\n        apiFilter = categories.apiTypes\n            .map(function (type) {\n            return \"-type:\\\"\" + type + \"\\\"\";\n        })\n            .join(\" OR \");\n    }\n    return \"(\" + apiFilter + \")\";\n}\n//# sourceMappingURL=has-api.js.map","import { getProp } from \"@esri/hub-common\";\n// builds the groupIds filter\nexport function groupIds(queryFilters) {\n    var groups = getProp(queryFilters, \"groupIds.terms\") || [];\n    var groupsFilter = groups\n        .map(function (id) {\n        return \"group:\\\"\" + id + \"\\\"\";\n    })\n        .join(\" OR \");\n    return \"(\" + groupsFilter + \")\";\n}\n//# sourceMappingURL=group-ids.js.map","import { getTypes, getProp } from \"@esri/hub-common\";\nexport function collectionFilter(queryFilters) {\n    var categories = getProp(queryFilters, \"collection.terms\") || [];\n    var typesArr = categories.map(function (c) { return getTypes(c); });\n    // flatten typesArr\n    var filter = typesArr\n        .filter(function (types) { return !!types; })\n        .reduce(function (singleArr, types) {\n        types.forEach(function (type) {\n            singleArr.push(\"type:\\\"\" + type + \"\\\"\");\n        });\n        return singleArr;\n    }, [])\n        .join(\" OR \");\n    return \"(\" + filter + \")\";\n}\n//# sourceMappingURL=collection.js.map","import { buildFilter } from \"./build-filter\";\nimport { downloadableFilter } from \"./downloadable\";\nimport { hasApiFilter } from \"./has-api\";\nimport { groupIds } from \"./group-ids\";\nimport { collectionFilter } from \"./collection\";\n// custom filter functions\nvar customFilters = {\n    downloadable: downloadableFilter,\n    hasApi: hasApiFilter,\n    groupIds: groupIds,\n    collection: collectionFilter\n};\nfunction isCustomFilter(filter) {\n    return !!customFilters[filter];\n}\n/**\n * Convert filter object into AGO filter string\n * @param queryFilters filter object created by create-filters like { tags: { fn: 'all', terms: ['a'] } }\n */\nexport function handleFilter(queryFilters) {\n    var catalogDefinition = [];\n    var otherFilters = [];\n    Object.keys(queryFilters).forEach(function (key) {\n        var clause;\n        if (isCustomFilter(key)) {\n            clause = customFilters[key](queryFilters, key);\n        }\n        else {\n            clause = buildFilter(queryFilters, key);\n        }\n        if (queryFilters[key].catalogDefinition) {\n            catalogDefinition.push(clause);\n        }\n        else {\n            otherFilters.push(clause);\n        }\n    });\n    if (catalogDefinition.length) {\n        var catalogClause = \"(\" + catalogDefinition.join(\" OR \") + \")\";\n        if (otherFilters.length) {\n            return catalogClause + \" AND (\" + otherFilters.join(\" AND \") + \")\";\n        }\n        else {\n            return catalogClause;\n        }\n    }\n    else if (otherFilters.length) {\n        return otherFilters.join(\" AND \");\n    }\n    else {\n        return \"\";\n    }\n}\n//# sourceMappingURL=handle-filter.js.map","import { getProp } from \"@esri/hub-common\";\n/**\n * Url-encoding of search params. This function is generic enough to encode a deeply nested object\n * ```\n * Example:\n * Input: { a: { b: 2 }, c: 3 }\n * Output: 'a[b]=2&c=3'\n * ```\n * @param {Any} params (query params from hub indexer)\n * @returns {String}\n */\nexport function encodeParams(params) {\n    if (params === void 0) { params = {}; }\n    // get raw paths\n    var paths = getPaths(params);\n    var flatPaths = paths.filter(function (path) {\n        return typeof getProp(params, path.join(\".\")) !== \"object\";\n    });\n    var parts = [];\n    // for each nested path, we want to surround it with `[]`\n    // i.e. if a path is like ['a', 'b'], we want encoding as 'a[b]=2' given the input object { a: { b: 2 }, c: 3 }\n    flatPaths.forEach(function (path) {\n        var str = \"\";\n        for (var i = 0; i < path.length; i++) {\n            if (i === 0) {\n                str += path[i];\n            }\n            else {\n                str += \"[\" + path[i] + \"]\";\n            }\n        }\n        var right = encodeURIComponent(getProp(params, path.join(\".\")) || \"\");\n        var left = encodeURIComponent(str);\n        if (right) {\n            parts.push(left + \"=\" + right);\n        }\n        return str;\n    });\n    var serialized = parts.join(\"&\");\n    return serialized;\n}\n/**\n * Get all paths to properties of an object as an array of arrays\n * where each array is a path to a property in the nested object\n * ```\n * Example:\n * Input: { a: { b: 2 }, c: 3 }\n * Output: [['a'], ['a', 'b'], ['c']]\n * ```\n * @param {Any} root the input object\n * @returns {String}\n */\nexport function getPaths(root) {\n    if (root === void 0) { root = {}; }\n    var paths = [];\n    var nodes = [\n        {\n            obj: root,\n            path: []\n        }\n    ];\n    var _loop_1 = function () {\n        var n = nodes.pop();\n        Object.keys(n.obj).forEach(function (k) {\n            if (typeof n.obj[k] === \"object\") {\n                var path = n.path.concat(k);\n                paths.push(path);\n                nodes.unshift({\n                    obj: n.obj[k],\n                    path: path\n                });\n            }\n            else {\n                paths.push(n.path.concat(k));\n            }\n        });\n    };\n    while (nodes.length > 0) {\n        _loop_1();\n    }\n    return paths;\n}\n//# sourceMappingURL=encode-params.js.map","import { __assign } from \"tslib\";\nimport { getSortField } from \"./helpers/sort\";\nimport { createFilters, handleFilter } from \"./helpers/filters\";\nimport { createAggs } from \"./helpers/aggs\";\nimport { getProp } from \"@esri/hub-common\";\n/**\n * Construct a query object with filters, and queryParams sent by hub indexer\n * @param queryObject any\n */\nexport function encodeAgoQuery(queryParams) {\n    if (queryParams === void 0) { queryParams = {}; }\n    var query = {\n        q: null,\n        start: getProp(queryParams, \"page.start\") || 1,\n        num: getProp(queryParams, \"page.size\") || 10\n    };\n    // start with 'implicit' query filters\n    var queryParts = ['-type:\"code attachment\"'];\n    if (queryParams.restricted) {\n        queryParts.push(\"-access:public\");\n    }\n    // Build the potentially enourmous 'q' parameter. In future use SearchQueryBuilder from arcgis-rest-js\n    if (queryParams.q) {\n        queryParts.push(queryParams.q);\n    }\n    if (queryParams.catalog) {\n        var filter = createFilters(queryParams.catalog);\n        queryParts.push(handleFilter(filter));\n    }\n    var implicitFilters = createFilters(queryParams);\n    // queryParams filter is an obj with key<string>: value<string> where value is serialized as 'all(a,b)'\n    // so parse each filter string into fn and terms\n    var explicitFilters = createFilters(queryParams.filter);\n    var filters = __assign(__assign({}, implicitFilters), explicitFilters);\n    if (Object.keys(filters).length) {\n        // add each parsed filter object into ago query\n        queryParts.push(handleFilter(filters));\n    }\n    // cleanse queryParts by removing blank strings\n    queryParts = queryParts.filter(function (qp) { return !!qp; });\n    query.q = queryParts.join(\" AND \");\n    if (queryParams.bbox) {\n        query.bbox = queryParams.bbox;\n    }\n    if (queryParams.sort) {\n        var sortOrder = queryParams.sort[0] === \"-\" ? \"desc\" : \"asc\";\n        // AGO supports sorting on only 1 field at a time\n        var sortField = sortOrder === \"desc\"\n            ? queryParams.sort.substring(1).split(\",\")[0]\n            : queryParams.sort.split(\",\")[0];\n        sortField = getSortField(sortField);\n        if (sortField) {\n            query.sortField = sortField;\n            query.sortOrder = sortOrder;\n        }\n    }\n    if (queryParams.agg && queryParams.agg.fields) {\n        // fields may be passed as array of fields, rather than comma-separated string\n        // if so join fields to string, else leave as is\n        var fields = void 0;\n        if (Array.isArray(queryParams.agg.fields)) {\n            fields = queryParams.agg.fields.join(\",\");\n        }\n        else {\n            fields = queryParams.agg.fields;\n        }\n        var _a = createAggs(fields), countFields = _a.countFields, countSize = _a.countSize;\n        query.countFields = countFields;\n        query.countSize = countSize;\n    }\n    return query;\n}\n//# sourceMappingURL=encode-ago-query.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { searchItems } from \"@esri/arcgis-rest-portal\";\nimport { encodeAgoQuery } from \"./encode-ago-query\";\nimport { getProp, chunkArray } from \"@esri/hub-common\";\nvar MAX_COUNTFIELDS = 3;\n// Search for Items in ArcGIS and return raw ago response\nexport function getItems(params, token, portal, authentication) {\n    return __awaiter(this, void 0, void 0, function () {\n        var agoParams, chunkedCountFields, promises, responses, allCounts, _i, responses_1, response, counts;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    agoParams = encodeAgoQuery(params);\n                    if (!agoParams.countFields) return [3 /*break*/, 2];\n                    chunkedCountFields = chunkArray(agoParams.countFields.split(\",\"), MAX_COUNTFIELDS).map(function (fieldArrayChunk) { return fieldArrayChunk.join(\",\"); });\n                    promises = chunkedCountFields.map(function (chunk) {\n                        var countFields = chunk;\n                        return searchItems(__assign(__assign({}, agoParams), { params: {\n                                // NOTE: we shouldn't need this since we pass in authentication below\n                                token: token,\n                                countFields: countFields,\n                                countSize: agoParams.countSize,\n                            }, countFields: countFields,\n                            portal: portal,\n                            authentication: authentication, httpMethod: \"POST\" }));\n                    });\n                    return [4 /*yield*/, Promise.all(promises)];\n                case 1:\n                    responses = _a.sent();\n                    allCounts = [];\n                    for (_i = 0, responses_1 = responses; _i < responses_1.length; _i++) {\n                        response = responses_1[_i];\n                        counts = getProp(response, \"aggregations.counts\") || [];\n                        allCounts = allCounts.concat(counts);\n                    }\n                    responses[0].aggregations = {\n                        counts: allCounts,\n                    };\n                    return [2 /*return*/, responses[0]];\n                case 2: return [2 /*return*/, searchItems(__assign(__assign({}, agoParams), { params: {\n                            // NOTE: we shouldn't need this since we pass in authentication below\n                            token: token,\n                        }, portal: portal, httpMethod: \"POST\", authentication: authentication }))];\n            }\n        });\n    });\n}\n//# sourceMappingURL=get-items.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getProp } from \"@esri/hub-common\";\nimport { format, hasApiAgg, collectionAgg, downloadableAgg, flattenCategories } from \"./helpers/aggs\";\nimport { getItems } from \"./get-items\";\n// these custom aggs are based on a field that are not supported by AGO aggregations\nvar customAggsNotSupportedByAgo = [\"downloadable\"];\n// these custom aggs are based on a field that are supported by AGO aggregations\nvar customAggsSupportedByAgo = [\"hasApi\", \"collection\"];\nvar customAggsFunctions = {\n    downloadable: downloadableAgg,\n    hasApi: hasApiAgg,\n    collection: collectionAgg\n};\n/**\n * Calculate item facets based on ago aggregations and/or compute custom aggregations not supported by AGO\n *\n * @param {any} agoAggregations aggregations from AGO\n * @param {ISearchParams} params search params\n * @param {String} token AGO token to make a search if calculating custom aggs like downloadable\n * @param {String} portal AGO portal against which search is being done\n * @param {UserSession} authentication UserSession object\n * @returns {Promise<any>}\n */\nexport function computeItemsFacets(agoAggregations, // aggregations from ago search that ago supports by default\nparams, // query params are needed to another search for custom facets\ntoken, portal, authentication) {\n    if (agoAggregations === void 0) { agoAggregations = { counts: Array() }; }\n    return __awaiter(this, void 0, void 0, function () {\n        var aggFields, aggs, customAggs, facets1, paramsCopy, response_1, facets2, facets3, computedFacets;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    aggFields = getProp(params, \"agg.fields\");\n                    aggs = aggFields ? aggFields.split(\",\") : [];\n                    customAggs = intersection(aggs, customAggsNotSupportedByAgo);\n                    facets1 = {};\n                    if (!(customAggs.length > 0)) return [3 /*break*/, 2];\n                    paramsCopy = __assign(__assign({}, params), { start: 1, num: 100 });\n                    paramsCopy.agg = {};\n                    return [4 /*yield*/, getItems(paramsCopy, token, portal, authentication)];\n                case 1:\n                    response_1 = _a.sent();\n                    customAggs.forEach(function (customAgg) {\n                        var rawCounts = customAggsFunctions[customAgg](response_1);\n                        facets1 = __assign(__assign({}, facets1), format(rawCounts));\n                    });\n                    _a.label = 2;\n                case 2:\n                    facets2 = agoAggregations.counts.reduce(function (formattedAggs, agg) {\n                        formattedAggs[agg.fieldName] = agg.fieldValues.map(function (fieldVal) {\n                            return {\n                                key: fieldVal.value,\n                                docCount: fieldVal.count\n                            };\n                        });\n                        return formattedAggs;\n                    }, {});\n                    // 3. for custom aggs that are based on some field included in ago aggs\n                    customAggs = intersection(aggs, customAggsSupportedByAgo);\n                    facets3 = {};\n                    if (customAggs.length > 0) {\n                        customAggs.forEach(function (customAgg) {\n                            var rawCounts = __assign({}, customAggsFunctions[customAgg](agoAggregations));\n                            facets3 = __assign(__assign({}, facets3), format(rawCounts));\n                        });\n                    }\n                    computedFacets = __assign(__assign(__assign({}, facets1), facets2), facets3);\n                    // 4. format categories facet\n                    if (computedFacets.categories) {\n                        computedFacets.categories = flattenCategories(computedFacets.categories);\n                    }\n                    return [2 /*return*/, computedFacets];\n            }\n        });\n    });\n}\nfunction intersection(arr1, arr2) {\n    return arr1.filter(function (val) { return arr2.indexOf(val) !== -1; });\n}\n//# sourceMappingURL=compute-items-facets.js.map","export function calcHighlights(input, query, property) {\n    // 1. identify all the matches case insensitively\n    // 2. Replace the original match(es) with mark tags\n    // We want to match case insensitively but highlight case sensitively the original term\n    // E.g. input string: `Capital bike share... blah blah capital.... CAPITAL`\n    // We would like to highlight: `Capital`, `capital`, `CAPITAL`\n    if (!input)\n        return undefined;\n    try {\n        var matches = input.match(new RegExp(query, \"ig\")); // search globally and case insensitively\n        if (!matches)\n            return undefined;\n        return matches.reduce(injectHighlightMarkdown(property), input);\n    }\n    catch (err) {\n        // the most likely error is that the RegExp could not be compiled, eg: query=*\n        // this is not catastrophic failure\n        return undefined;\n    }\n}\nfunction injectHighlightMarkdown(property) {\n    return function (highlights, match) {\n        // match is what appears as is in the input string\n        var replacement = \"<mark class=\\\"hub-search-highlight \" + property + \"-highlight\\\">\" + match + \"</mark>\";\n        // replace the case sensitive match with mark tags\n        return highlights.replace(new RegExp(match, \"g\"), replacement);\n    };\n}\n//# sourceMappingURL=highlights.js.map","import { __assign } from \"tslib\";\n// helper functions to make items look more like datasets\n//\n// item queries will look like this ->\n// {\n//   data: [{\n//     id: item-id,\n//     type: 'item',\n//     attributes: {\n//       // will have attribute 'parity' with datasets. Many of these values will be null.\n//     },\n//     meta: { highlights: {} }\n//     links: {\n//       // computed links for the item result. These can be used throughout the app when linking to\n//       // AGO, APIs, etc\n//     }\n//   }],\n//   meta: {\n//     aggs: {\n//       // built by another query against AGO API and then formatted in the same format as the V3 API\n//     },\n//     stats: {\n//       count:,\n//       totalCount:,\n//     }\n//   }\n// }\nimport { getCategory, getTypeCategories } from \"@esri/hub-common\";\nimport { calcHighlights } from \"./highlights\";\nexport function formatItem(item, query) {\n    var formattedItem = {\n        id: item.id,\n        type: \"item\",\n        attributes: formatItemAttributes(item)\n    };\n    if (query) {\n        // create highlights since AGO does not return them\n        formattedItem.meta = {};\n        formattedItem.meta.highlights = highlights(item, query);\n    }\n    return formattedItem;\n}\nfunction formatItemAttributes(item) {\n    var hubType = getCategory(item.type);\n    var additionalAttrs = {\n        // computed or null attributes so items & datasets look the same\n        name: item.title,\n        searchDescription: item.description,\n        hubType: hubType || \"Other\",\n        collection: getTypeCategories(item),\n        extent: formatExtent(item.extent)\n    };\n    return __assign(__assign({}, item), additionalAttrs);\n}\nfunction formatExtent(extent) {\n    return {\n        coordinates: extent,\n        type: \"envelope\"\n    };\n}\nfunction highlights(item, query) {\n    // calculate highlights based on AGO restricted item, hence use description field but return as `searchDescription`\n    // because the search-result/component expects searchDescription\n    return {\n        name: calcHighlights(item.title, query, \"name\"),\n        searchDescription: calcHighlights(item.description, query, \"description\")\n    };\n}\n//# sourceMappingURL=format-item.js.map","import { __assign } from \"tslib\";\nimport { formatItem } from \"./helpers/format\";\n// This function is responsible for formatting results from the AGO API into the JSONAPI collection format\nexport function agoFormatItemCollection(searchResults, facets, params) {\n    if (facets === void 0) { facets = {}; }\n    var queryParams = __assign({}, params);\n    return {\n        data: searchResults.results.map(function (result) {\n            return formatItem(result, queryParams.q);\n        }),\n        meta: {\n            query: searchResults.query,\n            queryParameters: queryParams,\n            stats: {\n                aggs: facets,\n                count: searchResults.results.length,\n                totalCount: searchResults.total\n            },\n            page: {\n                start: searchResults.start,\n                size: searchResults.num,\n                nextStart: searchResults.nextStart\n            }\n        }\n    };\n}\n//# sourceMappingURL=format-item-collection.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { __awaiter, __generator } from \"tslib\";\nimport { computeItemsFacets } from \"./compute-items-facets\";\nimport { agoFormatItemCollection } from \"./format-item-collection\";\nimport { getItems } from \"./get-items\";\n/**\n * Search for Items in ArcGIS, compute facets and format the response into V3 like datasets\n *\n * @export\n * @param {ISearchParams} params (query params from hub indexer)\n * @param {UserSession} authentication\n * @returns {Promise<ISearchResult>}\n */\nexport function agoSearch(params, token, portal, authentication) {\n    return __awaiter(this, void 0, void 0, function () {\n        var agoResponse, facets, model;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, getItems(params, token, portal, authentication)];\n                case 1:\n                    agoResponse = _a.sent();\n                    return [4 /*yield*/, computeItemsFacets(agoResponse.aggregations, params, token, portal)];\n                case 2:\n                    facets = _a.sent();\n                    model = agoFormatItemCollection(agoResponse, facets, params);\n                    return [2 /*return*/, model];\n            }\n        });\n    });\n}\n//# sourceMappingURL=search.js.map","import { createFilters, encodeFilters, filterSchema, encodeParams } from \"./helpers/filters\";\n/**\n * ```\n * serialize raw query parameters into hub specific URI encoding\n * Example:\n * Input: { q: 'crime', tags: 'a,b,c', sort: 'name' }\n * Output: 'q=crime&tags=all(a,b,c)&sort=name'\n * ```\n * @export\n * @param {ISearchParams} searchParams\n * @returns {string}\n */\nexport function serialize(searchParams) {\n    // 1. handle filterable params like tags, source, hasApi, groupIds since they follow custom logic\n    var filters = createFilters(searchParams);\n    var encodedFilters = encodeFilters(filters);\n    // 2. handle non-filters like q, sort etc which have <string: string> type and also nested types like page, agg.\n    // extract non-filterable fields from search params\n    var nonFilterKeys = Object.keys(searchParams).filter(function (param) { return !isFilterable(param); });\n    var nonFilterSearchParams = {};\n    nonFilterKeys.forEach(function (key) {\n        nonFilterSearchParams[key] = searchParams[key];\n    });\n    var encodedNonFilters = encodeParams(nonFilterSearchParams);\n    var parts = [];\n    // don't include blank strings in the URI encoding\n    if (encodedNonFilters)\n        parts.push(encodedNonFilters);\n    if (encodedFilters)\n        parts.push(encodedFilters);\n    return parts.join(\"&\");\n}\nexport function isFilterable(field) {\n    return filterSchema[field] && filterSchema[field].type === \"filter\";\n}\n//# sourceMappingURL=serialize.js.map","/**\n * k-way merge implementation that merges (and potentially sorts) k individually sorted arrays\n * based on the k-way merge algorithm (https://en.wikipedia.org/wiki/K-way_merge_algorithm)\n *\n * If a comparator function used to compare data is provided, a k-way merge sort is performed using\n * a Binary Heap implementation. Otherwise data from each input array is merged incrementally\n *\n * The returned object contains merged (and potentially sorted) data, as well as key-value\n * pairs that represent the index of a result set in the \"data\" parameter (the key) tied to how\n * many results (the value) of that result set were added to the final merged data array.\n * For example, if \"data\" represents an array of two result sets, with 3 and 5 results added to the final\n * result set, respectively, the returned object would be { data: [...], \"0\": 3, \"1\": 5 }\n *\n * @param data An array of result sets, each an array of type T\n * @param resultLimit the maximum number of merged results to return, defaults to 10\n * @param cmptr comparator function that takes in two instances of type T and returns a negative number if a is less than b, a positive if a is greater than b, 0 if equal\n * @param direction specifies whether data should be ordered ascending or descending\n * @returns list of results and key-value pairs indicating how many from each were added to returned data\n */\nexport function kMerge(data, resultLimit, cmptr, direction) {\n    if (resultLimit === void 0) { resultLimit = 10; }\n    var results = cmptr\n        ? kMergeSort(data, cmptr, direction, resultLimit)\n        : kMergeDefault(data, resultLimit);\n    // Zero-fill any result set that did not have any results added to final\n    for (var i = 0; i < data.length; i++) {\n        if (!results[i.toString()]) {\n            results[i.toString()] = 0;\n        }\n    }\n    return results;\n}\nfunction kMergeDefault(data, resultLimit) {\n    var results = {\n        data: []\n    };\n    var totalDataRemaining = _getRemainingResults(data);\n    var _loop_1 = function () {\n        var _a;\n        var dataToAdd = [];\n        data.forEach(function (dataArr, index) {\n            if (dataArr.length > 0 &&\n                _canDataBeAdded(dataToAdd, results.data, resultLimit)) {\n                results[index.toString()] = results[index.toString()]\n                    ? results[index.toString()] + 1\n                    : 1;\n                dataToAdd.push(dataArr.splice(0, 1)[0]);\n            }\n        });\n        (_a = results.data).push.apply(_a, dataToAdd);\n        totalDataRemaining = _getRemainingResults(data);\n    };\n    while (!_hasReachedLimit(results.data.length, resultLimit) &&\n        totalDataRemaining > 0) {\n        _loop_1();\n    }\n    return results;\n}\nfunction kMergeSort(data, cmptr, direction, resultLimit) {\n    var nodes = data.map(function (datum, index) { return ({ data: datum, label: index.toString() }); });\n    var heap = new BinaryHeap(nodes, cmptr, direction);\n    var results = {\n        data: []\n    };\n    while (results.data.length < resultLimit && heap.length() > 0) {\n        var node = heap.remove();\n        if (node.data.length > 0) {\n            results[node.label] = results[node.label] ? results[node.label] + 1 : 1;\n            results.data.push(node.data.splice(0, 1)[0]);\n            heap.insert(node);\n        }\n    }\n    return results;\n}\nfunction _getRemainingResults(data) {\n    return data.reduce(function (length, arr) {\n        return length + arr.length;\n    }, 0);\n}\nfunction _hasReachedLimit(results, resultLimit) {\n    return results - resultLimit >= 0;\n}\nfunction _canDataBeAdded(dataToAdd, resultsAdded, resultLimit) {\n    return resultsAdded.length + dataToAdd.length < resultLimit;\n}\n/**\n * Binary Heap Implementation that implements the 'insert' and 'remove' methods\n * of the IBinaryHeap interface. Example use is for k-way merge sorting of k sorted arrays.\n * Performance is O(n log n) for initialization (could be further optimized), O(log n) for insertion and O(log n) for deletion\n *\n * @param nodes An array of INode objects of type T. If undefined or null are explicitly provided it defaults to empty array\n * @param cmptr comparator function that takes in two instances of type T and returns a number to determine sorting order\n * @param direction A HeapDirection that determines if heap should be min (\"ASC\") or max (\"DESC\") implementation\n */\nvar BinaryHeap = /** @class */ (function () {\n    function BinaryHeap(nodes, cmptr, direction) {\n        if (direction === void 0) { direction = \"ASC\"; }\n        this._validate({ cmptr: cmptr, direction: direction });\n        this._comparator = cmptr;\n        this._direction = direction;\n        this._initialize(nodes);\n    }\n    /**\n     * Inserts node into binary heap\n     * @param node\n     */\n    BinaryHeap.prototype.insert = function (node) {\n        if (!this._hasData(node)) {\n            return;\n        }\n        this._nodes.push(node);\n        var currIndex = this.length() - 1;\n        var parentIndex = this._getParentIndex(currIndex);\n        while (this._shouldSwap(parentIndex, currIndex)) {\n            this._swap(parentIndex, currIndex);\n            currIndex = parentIndex;\n            parentIndex = this._getParentIndex(currIndex);\n        }\n    };\n    /**\n     * Removes either the minimum or the maximum node, depending on heap implementation\n     * @returns the min/max node or null if heap is empty.\n     */\n    BinaryHeap.prototype.remove = function () {\n        if (this.length() === 0)\n            return null;\n        this._swap(0, this.length() - 1);\n        var node = this._nodes.pop();\n        this._siftDown(0);\n        return node;\n    };\n    /**\n     * Returns number of nodes in heap\n     * @returns number of nodes\n     */\n    BinaryHeap.prototype.length = function () {\n        return this._nodes.length;\n    };\n    /**\n     * Returns a readonly version of the heap as an array\n     * @returns Readonly array representation of the heap\n     */\n    BinaryHeap.prototype.heap = function () {\n        return this._nodes;\n    };\n    BinaryHeap.prototype._initialize = function (nodes) {\n        this._nodes = [];\n        if (!nodes || nodes.length === 0) {\n            return;\n        }\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            this.insert(node);\n        }\n    };\n    BinaryHeap.prototype._siftDown = function (index) {\n        var _a;\n        var _b = this._getChildIndices(index), childOne = _b[0], childTwo = _b[1];\n        var childIndexToSwap = this._shouldSwap(childOne, childTwo)\n            ? childTwo\n            : childOne;\n        while (!this._isInvalidIndex(childIndexToSwap) &&\n            this._shouldSwap(index, childIndexToSwap)) {\n            this._swap(index, childIndexToSwap);\n            index = childIndexToSwap;\n            _a = this._getChildIndices(index), childOne = _a[0], childTwo = _a[1];\n            childIndexToSwap = this._shouldSwap(childOne, childTwo)\n                ? childTwo\n                : childOne;\n        }\n    };\n    BinaryHeap.prototype._getParentIndex = function (index) {\n        return Math.trunc((index - 1) / 2);\n    };\n    BinaryHeap.prototype._getChildIndices = function (index) {\n        return [index * 2 + 1, index * 2 + 2];\n    };\n    BinaryHeap.prototype._shouldSwap = function (lowerIndex, higherIndex) {\n        if (this._isInvalidIndex(lowerIndex) || this._isInvalidIndex(higherIndex)) {\n            return false;\n        }\n        return ((this._greaterThan(lowerIndex, higherIndex) &&\n            this._direction === \"ASC\") ||\n            (this._lessThan(lowerIndex, higherIndex) && this._direction === \"DESC\"));\n    };\n    BinaryHeap.prototype._isInvalidIndex = function (index) {\n        return index < 0 || index >= this.length();\n    };\n    BinaryHeap.prototype._lessThan = function (lowerIndex, higherIndex) {\n        return (this._comparator(this._nodes[lowerIndex].data, this._nodes[higherIndex].data) < 0);\n    };\n    BinaryHeap.prototype._greaterThan = function (lowerIndex, higherIndex) {\n        return (this._comparator(this._nodes[lowerIndex].data, this._nodes[higherIndex].data) > 0);\n    };\n    BinaryHeap.prototype._hasData = function (node) {\n        return node && node.data !== undefined && node.data !== null;\n    };\n    BinaryHeap.prototype._swap = function (one, two) {\n        if (one === two)\n            return;\n        var oneCopy = this._nodes[one];\n        this._nodes[one] = this._nodes[two];\n        this._nodes[two] = oneCopy;\n    };\n    BinaryHeap.prototype._validate = function (args) {\n        if (!args.cmptr) {\n            throw new Error(\"Comparator function must be defined\");\n        }\n        if (!args.direction) {\n            throw new Error(\"Provided heap direction is invalid\");\n        }\n    };\n    return BinaryHeap;\n}());\nexport { BinaryHeap };\n//# sourceMappingURL=merge.js.map","/**\n * The default merge function for merging aggregations. Simply sums the aggregations\n * @param valueOne the value of one aggregatiom\n * @param valueTwo the value of the second aggregation\n * @returns the sum of the two values\n */\nvar sumAggregations = function (valueOne, valueTwo) {\n    return valueOne + valueTwo;\n};\n/**\n * Function to merge multiple aggregations results from different result sets. Explicitly assumed\n * that sets can contain overlapping aggregations that should be merged. Also explicitly assumed\n * that they can contain aggregation values that are undefined or null (0 is valid),\n * and/or contain entire aggregation result sets that are empty or falsey\n *\n * @param aggs a list of aggregation result sets from different requests/sources\n * @param mergeFunction a merge function used to merge aggregation values across result sets\n * @returns a list of merged aggregations\n */\nexport function mergeAggregations(aggs, mergeFunction) {\n    if (aggs === void 0) { aggs = []; }\n    if (mergeFunction === void 0) { mergeFunction = sumAggregations; }\n    if (!Array.isArray(aggs) || aggs.length === 0) {\n        return [];\n    }\n    var aggResultMapList = aggs.map(function (aggResultList) {\n        return _combineAggResultsToMap(aggResultList);\n    });\n    var mergedMap = _createMergedMap(aggResultMapList, mergeFunction);\n    return _convertMapToResult(mergedMap);\n}\nfunction _combineAggResultsToMap(aggResultList) {\n    return aggResultList.reduce(function (aggResultMap, aggResult) {\n        var aggMap = _createAggMap(aggResult);\n        if (Object.keys(aggMap).length > 0) {\n            var lowercasedFieldName = aggResult.fieldName.toLowerCase();\n            aggResultMap[lowercasedFieldName] = aggMap;\n        }\n        return aggResultMap;\n    }, {});\n}\nfunction _createAggMap(aggResult) {\n    var aggregations = aggResult.aggregations || [];\n    return aggregations.reduce(function (map, agg) {\n        if (agg.value !== undefined && agg.value !== null) {\n            var lowercasedLabel = agg.label.toLowerCase();\n            map[lowercasedLabel] = agg.value;\n        }\n        return map;\n    }, {});\n}\nfunction _createMergedMap(aggResultMapList, mergeFunction) {\n    return aggResultMapList.reduce(function (mergedMap, map) {\n        Object.keys(map).forEach(function (fieldName) {\n            if (!mergedMap[fieldName]) {\n                mergedMap[fieldName] = map[fieldName];\n            }\n            else {\n                mergedMap[fieldName] = _mergeMaps(mergedMap[fieldName], map[fieldName], mergeFunction);\n            }\n        });\n        return mergedMap;\n    }, {});\n}\nfunction _mergeMaps(existingMap, newMap, mergeFunction) {\n    var mergedMap = Object.assign(existingMap);\n    Object.keys(newMap).forEach(function (label) {\n        if (!mergedMap[label]) {\n            mergedMap[label] = newMap[label];\n        }\n        else {\n            mergedMap[label] = mergeFunction(existingMap[label], newMap[label]);\n        }\n    });\n    return mergedMap;\n}\nfunction _convertMapToResult(mergedMap) {\n    return Object.keys(mergedMap).map(function (fieldName) {\n        var aggregations = Object.keys(mergedMap[fieldName]).map(function (name) {\n            return {\n                label: name,\n                value: mergedMap[fieldName][name]\n            };\n        });\n        return {\n            fieldName: fieldName,\n            aggregations: aggregations\n        };\n    });\n}\n//# sourceMappingURL=merge-aggregations.js.map","import { __extends } from \"tslib\";\nvar InvalidPaginationInputError = /** @class */ (function (_super) {\n    __extends(InvalidPaginationInputError, _super);\n    function InvalidPaginationInputError(message, input) {\n        var _this = _super.call(this, message) || this;\n        _this.input = input;\n        return _this;\n    }\n    return InvalidPaginationInputError;\n}(Error));\nexport { InvalidPaginationInputError };\n//# sourceMappingURL=invalid-pagination-input.js.map","import { btoa as encode } from \"@esri/hub-common\";\nimport { InvalidPaginationInputError } from \"./invalid-pagination-input\";\n/**\n * When multiple data sources underly a paginated search, the search implementation should be able to\n * search at the appropriate starting point for each source for a given paged set of results. This\n * function merges an array of page states for each source, denoted by their label, into a base64-\n * encoded cursor string that the implementation can use for the next set of results.\n *\n * @param pages an array of page states denoted by their label and the starting point for the next page\n * @returns a base64-encoded cursor string to use when obtaining next page of results.\n *\n */\nexport function mergePages(pages) {\n    if (!pages || !Array.isArray(pages)) {\n        throw new InvalidPaginationInputError(\"Invalid Input Error. Must be array of IDataPageNextStart, received: \" + typeof pages, pages);\n    }\n    var mergedPages = pages.reduce(function (pageObj, page) {\n        pageObj[page.label] = page.nextPageStart || 1;\n        return pageObj;\n    }, {});\n    return encode(JSON.stringify(mergedPages));\n}\n//# sourceMappingURL=merge.js.map","/**\n * Defines an enum SortDirection\n */\nexport var SortDirection;\n(function (SortDirection) {\n    SortDirection[\"asc\"] = \"asc\";\n    SortDirection[\"desc\"] = \"desc\";\n})(SortDirection || (SortDirection = {}));\n//# sourceMappingURL=common.js.map"],"names":["IBooleanOperator","TERM_FIELD","processFilter","processPage","createSearchOptions","processArrayFilter","processDateField","processFieldFilter","decode","Logger","itemToContent","mapAggregations","getNextFunction","mapCountAggregations","cloneObject","datasetToContent","getProp","setContentSiteUrls","hubApiSearch","fetchSite","getHubApiUrl","getPortalApiUrl","categories","getCategory","addDays","getTypes","chunkArray","getTypeCategories","encode","SortDirection"],"mappings":";;;;;;;;;;;;IAAA;IACA;AACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;IACA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnF,IAAI,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;AACF;IACO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;AACD;IACO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;AA4BD;IACO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IAC7D,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAChH,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IACtH,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,KAAK,CAAC,CAAC;IACP,CAAC;AACD;IACO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrH,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7J,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACtE,IAAI,SAAS,IAAI,CAAC,EAAE,EAAE;IACtB,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IACtE,QAAQ,OAAO,CAAC,EAAE,IAAI;IACtB,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzK,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,YAAY,QAAQ,EAAE,CAAC,CAAC,CAAC;IACzB,gBAAgB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;IAC9C,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxE,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;IACjE,gBAAgB,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IACjE,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;IAChI,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;IAC1G,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACzF,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;IACvF,oBAAoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1C,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IAC3C,aAAa;IACb,YAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAClE,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACzF,KAAK;IACL;;ICvGA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,gBAAgB,CAAC,MAAM,EAAE;IACzC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;IACnD,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,QAAQ,IAAI,CAAC,KAAK,EAAE;IACpB,YAAY,OAAO,KAAK,CAAC;IACzB,SAAS;IACT,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE;IACpC,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;IACpC,SAAS;IACT,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;IAC1C,QAAQ,QAAQ,IAAI;IACpB,YAAY,KAAK,OAAO;IACxB,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,QAAQ;IACzB,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,MAAM;IACvB,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,UAAU;IAC3B,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,SAAS;IAC1B,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,QAAQ;IACzB,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY,KAAK,QAAQ;IACzB,gBAAgB,OAAO,KAAK,CAAC;IAC7B,YAAY;IACZ,gBAAgB,OAAO,IAAI,CAAC;IAC5B,SAAS;IACT,KAAK,CAAC,CAAC;IACP,CAAC;IACD;IACA;IACA;IACA;IACA;IACO,SAAS,aAAa,CAAC,MAAM,EAAE;IACtC,IAAI,IAAI,SAAS,GAAG,EAAE,CAAC;IACvB,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;IAC/C,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;IACnB,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE;IACpC,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;IACpC,SAAS;IACT,QAAQ,IAAI,CAAC,KAAK;IAClB,YAAY,KAAK,KAAK,CAAC;IACvB,YAAY,OAAO,KAAK,KAAK,SAAS;IACtC,YAAY,OAAO,KAAK,KAAK,QAAQ,EAAE;IACvC,YAAY,OAAO;IACnB,SAAS;IACT,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;IAC1C,QAAQ,IAAI,KAAK,CAAC;IAClB;IACA;IACA;IACA;IACA,QAAQ,QAAQ,IAAI;IACpB,YAAY,KAAK,OAAO;IACxB;IACA;IACA;IACA,gBAAgB,IAAI,gBAAgB,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,WAAW,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;IAC/J,gBAAgB,KAAK;IACrB,oBAAoB,gBAAgB,KAAK,OAAO,GAAG,KAAK;IACxD,wBAAwB,gBAAgB,KAAK,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IAC7E,4BAA4B,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,gBAAgB,MAAM;IACtB,YAAY,KAAK,QAAQ;IACzB,gBAAgB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC9C,gBAAgB,MAAM;IACtB,YAAY,KAAK,MAAM;IACvB,gBAAgB,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;IACxC,gBAAgB,MAAM;IACtB,YAAY,KAAK,UAAU;IAC3B,gBAAgB,KAAK,GAAG,IAAI,CAAC;IAC7B,gBAAgB,MAAM;IACtB,YAAY,KAAK,SAAS;IAC1B,gBAAgB,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;IACnC,gBAAgB,MAAM;IACtB,YAAY;IACZ,gBAAgB,KAAK,GAAG,KAAK,CAAC;IAC9B,gBAAgB,MAAM;IACtB,SAAS;IACT,QAAQ,IAAI,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;IACvF,YAAY,SAAS,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IACnC,SAAS;IACT,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,SAAS,CAAC;IACrB;;IC9FA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,WAAW,CAAC,GAAG,EAAE,KAAK,EAAE;IACxC;IACA,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;IACrE,QAAQ,OAAO,KAAK,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,WAAW,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjG,KAAK;IACL,IAAI,OAAO,kBAAkB,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACrE,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,iBAAiB,CAAC,MAAM,EAAE;IAC1C,IAAI,IAAI,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;IACjC,SAAS,GAAG,CAAC,UAAU,GAAG,EAAE;IAC5B,QAAQ,OAAO,WAAW,CAAC,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IAChD,KAAK,CAAC;IACN,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB;;IC9BA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,cAAc,CAAC,MAAM,EAAE,aAAa,EAAE;IACtD;IACA,IAAI,IAAI,WAAW,GAAG,gBAAgB,CAAC,MAAM,CAAC,IAAI,aAAa,CAAC;IAChE,IAAI,IAAI,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,IAAI,WAAW,EAAE;IACrB,QAAQ,IAAI,UAAU,GAAG,IAAI,QAAQ,EAAE,CAAC;IACxC,QAAQ,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;IACtD,YAAY,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,SAAS,CAAC,GAAG,CAAC,YAAY,IAAI,EAAE;IAC/E;IACA;IACA;IACA;IACA;IACA,gBAAgB,IAAI,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC;IACnF,gBAAgB,UAAU,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;IACjE,aAAa;IACb,iBAAiB;IACjB,gBAAgB,UAAU,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IACvD,aAAa;IACb,SAAS,CAAC,CAAC;IACX,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK;IACL,SAAS;IACT,QAAQ,OAAO,iBAAiB,CAAC,MAAM,CAAC,CAAC;IACzC,KAAK;IACL;;ICnCA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,kBAAkB,YAAY;IACpD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,SAAS,kBAAkB,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,EAAE;IACvE,QAAQ,OAAO,GAAG,OAAO,IAAI,eAAe,CAAC;IAC7C,QAAQ,IAAI,GAAG,IAAI,IAAI,oBAAoB,CAAC;IAC5C,QAAQ,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC;IACzC,QAAQ,IAAI,CAAC,OAAO;IACpB,YAAY,IAAI,KAAK,oBAAoB,GAAG,OAAO,GAAG,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC;IAC5E,QAAQ,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;IACvC,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACjC,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACvB,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC/B,KAAK;IACL,IAAI,OAAO,kBAAkB,CAAC;IAC9B,CAAC,EAAE,CAAC,CAAC;IAEL,kBAAkB,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC9D,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,kBAAkB;;IChC7D;IACA;IACA;IACA;IACA;IACO,SAAS,IAAI,CAAC,OAAO,EAAE;IAC9B,IAAI,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE;IACjC,QAAQ,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;IAC/C,KAAK;IACL;;ICTA;IACA;IAOO,IAAI,6BAA6B,GAAG,sBAAsB,CAAC;IAClE,IAAI,8BAA8B,GAAG;IACrC,IAAI,UAAU,EAAE,MAAM;IACtB,IAAI,MAAM,EAAE;IACZ,QAAQ,CAAC,EAAE,MAAM;IACjB,KAAK;IACL,CAAC,CAAC;IAsBF,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACvD,IAAI,SAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACvC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,SAAS,eAAe,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,EAAE;IACpE,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,sBAAsB,CAAC,EAAE;IACrE,QAAQ,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE,EAAE,IAAI,GAAG,2BAA2B,CAAC,EAAE;IACpE,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;IACrF,QAAQ,KAAK,CAAC,IAAI,GAAG,iBAAiB,CAAC;IACvC,QAAQ,KAAK,CAAC,OAAO;IACrB,YAAY,IAAI,KAAK,2BAA2B,GAAG,OAAO,GAAG,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC;IACnF,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,UAAU,EAAE,UAAU,EAAE;IACxE,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,CAAC,CAAC,EAAE;IACtD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC;IACtB,QAAQ,IAAI,YAAY,GAAG,UAAU,OAAO,EAAE,MAAM,EAAE;IACtD,YAAY,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC;IAChD,iBAAiB,IAAI,CAAC,UAAU,OAAO,EAAE;IACzC,gBAAgB,IAAI,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,cAAc,EAAE,OAAO,EAAE,CAAC,CAAC;IACpG,gBAAgB,KAAK,GAAG,KAAK,GAAG,CAAC,CAAC;IAClC,gBAAgB,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;IACtD,aAAa,CAAC;IACd,iBAAiB,IAAI,CAAC,UAAU,QAAQ,EAAE;IAC1C,gBAAgB,OAAO,CAAC,QAAQ,CAAC,CAAC;IAClC,aAAa,CAAC;IACd,iBAAiB,KAAK,CAAC,UAAU,CAAC,EAAE;IACpC,gBAAgB,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,IAAI,KAAK,GAAG,UAAU,EAAE;IACxE,oBAAoB,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAClD,iBAAiB;IACjB,qBAAqB,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,IAAI,KAAK,IAAI,UAAU,EAAE;IAC9E,oBAAoB,MAAM,CAAC,KAAK,CAAC,CAAC;IAClC,iBAAiB;IACjB,qBAAqB;IACrB,oBAAoB,MAAM,CAAC,CAAC,CAAC,CAAC;IAC9B,iBAAiB;IACjB,aAAa,CAAC,CAAC;IACf,SAAS,CAAC;IACV,QAAQ,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;IACtD,YAAY,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN,IAAI,OAAO,eAAe,CAAC;IAC3B,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAEvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,cAAc,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE;IAClF;IACA,IAAI,IAAI,QAAQ,CAAC,IAAI,IAAI,GAAG,EAAE;IAC9B,QAAQ,IAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,EAAE,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;IAC7D,QAAQ,MAAM,IAAI,kBAAkB,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IAC5E,KAAK;IACL;IACA,IAAI,IAAI,QAAQ,CAAC,KAAK,EAAE;IACxB,QAAQ,IAAI,EAAE,GAAG,QAAQ,CAAC,KAAK,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;IACpG,QAAQ,IAAI,SAAS,GAAG,WAAW,IAAI,IAAI,IAAI,oBAAoB,CAAC;IACpE,QAAQ,IAAI,IAAI,KAAK,GAAG;IACxB,YAAY,IAAI,KAAK,GAAG;IACxB,YAAY,WAAW,KAAK,UAAU;IACtC,aAAa,IAAI,KAAK,GAAG,IAAI,OAAO,KAAK,2BAA2B,CAAC,EAAE;IACvE,YAAY,IAAI,iBAAiB,EAAE;IACnC,gBAAgB,MAAM,iBAAiB,CAAC;IACxC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,MAAM,IAAI,eAAe,CAAC,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IACtF,aAAa;IACb,SAAS;IACT,QAAQ,MAAM,IAAI,kBAAkB,CAAC,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IACjF,KAAK;IACL;IACA,IAAI,IAAI,QAAQ,CAAC,MAAM,KAAK,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,SAAS,EAAE;IACvE,QAAQ,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC;IAC7B,QAAQ,IAAI,IAAI,GAAG,oBAAoB,CAAC;IACxC,QAAQ,IAAI;IACZ,YAAY,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC;IACjE,YAAY,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC;IAC3D,SAAS;IACT,QAAQ,OAAO,CAAC,EAAE;IAClB,YAAY,OAAO,GAAG,QAAQ,CAAC,aAAa,IAAI,QAAQ,CAAC,OAAO,CAAC;IACjE,SAAS;IACT,QAAQ,MAAM,IAAI,kBAAkB,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IAC5E,KAAK;IACL,IAAI,OAAO,QAAQ,CAAC;IACpB,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,OAAO,CAAC,GAAG,EAAE,cAAc,EAAE;IAC7C,IAAI,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,EAAE,MAAM,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC,EAAE;IAClF,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,8BAA8B,CAAC,EAAE,cAAc,CAAC,EAAE;IACvH,QAAQ,MAAM,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,8BAA8B,CAAC,MAAM,CAAC,EAAE,cAAc,CAAC,MAAM,CAAC;IACpG,QAAQ,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,8BAA8B,CAAC,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,CAAC;IACvG,KAAK,CAAC,CAAC;IACP,IAAI,IAAI,cAAc,GAAG,EAAE,CAAC;IAC5B,IAAI,IAAI,mBAAmB,GAAG,EAAE,CAAC;IACjC;IACA,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE;IACxD,QAAQ,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IAC9D,KAAK;IACL,SAAS;IACT,QAAQ,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACvC,QAAQ,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACjD,KAAK;IACL,IAAI,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;IACxC,QAAQ,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACzC,QAAQ,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAClD,KAAK;IACL,IAAI,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;IACzC,QAAQ,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1C,QAAQ,mBAAmB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAC3D,KAAK;IACL,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK;IACtB,QAAQ,OAAO,OAAO,KAAK,WAAW;IACtC,QAAQ,OAAO,QAAQ,KAAK,WAAW,EAAE;IACzC,QAAQ,MAAM,IAAI,KAAK,CAAC,+JAA+J,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,gCAAgC,GAAG,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,sHAAsH,CAAC,CAAC;IAClZ,KAAK;IACL,IAAI,IAAI,UAAU,GAAG,OAAO,CAAC,UAAU,EAAE,cAAc,GAAG,OAAO,CAAC,cAAc,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IACpH,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;IACzD,IAAI,IAAI,iBAAiB,GAAG,IAAI,CAAC;IACjC,IAAI,IAAI,YAAY,GAAG;IACvB,QAAQ,MAAM,EAAE,UAAU;IAC1B;IACA;IACA,QAAQ,WAAW,EAAE,OAAO,CAAC,WAAW,IAAI,aAAa;IACzD,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,IAAI,OAAO,CAAC,OAAO;IACvB,QAAQ,OAAO,CAAC,OAAO,CAAC,uBAAuB,CAAC;IAChD,QAAQ,GAAG,CAAC,OAAO,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC,EAAE;IAClD,QAAQ,YAAY,CAAC,WAAW,GAAG,SAAS,CAAC;IAC7C,KAAK;IACL,IAAI,OAAO,CAAC,cAAc;IAC1B,UAAU,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE;IACtF;IACA;IACA;IACA;IACA;IACA,YAAY,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;IAC1B,YAAY,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC;IAClC;IACA;IACA;IACA;IACA;IACA,YAAY,iBAAiB,GAAG,GAAG,CAAC;IACpC,YAAY,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACvC,SAAS,CAAC;IACV,UAAU,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;IAC7B,SAAS,IAAI,CAAC,UAAU,KAAK,EAAE;IAC/B,QAAQ,IAAI,KAAK,CAAC,MAAM,EAAE;IAC1B,YAAY,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;IACjC,SAAS;IACT,QAAQ,IAAI,cAAc,IAAI,cAAc,CAAC,oBAAoB,EAAE;IACnE,YAAY,YAAY,CAAC,WAAW,GAAG,cAAc,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;IAChF,SAAS;IACT;IACA,QAAQ,IAAI,cAAc,GAAG,EAAE,CAAC;IAChC,QAAQ,IAAI,YAAY,CAAC,MAAM,KAAK,KAAK,EAAE;IAC3C;IACA;IACA,YAAY,IAAI,MAAM,CAAC,KAAK;IAC5B,gBAAgB,OAAO,CAAC,SAAS;IACjC;IACA,gBAAgB,OAAO,MAAM,KAAK,WAAW,EAAE;IAC/C,gBAAgB,cAAc,CAAC,sBAAsB,CAAC,GAAG,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC;IAClF,gBAAgB,OAAO,MAAM,CAAC,KAAK,CAAC;IACpC,aAAa;IACb;IACA,YAAY,IAAI,WAAW,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;IACxD;IACA,YAAY,IAAI,kBAAkB,GAAG,WAAW,KAAK,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;IACtG,YAAY;IACZ;IACA,YAAY,CAAC,OAAO,CAAC,YAAY;IACjC,gBAAgB,kBAAkB,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY;IAChE;IACA,iBAAiB,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,SAAS,CAAC,EAAE;IACrD;IACA;IACA,gBAAgB,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;IAC7C;IACA,gBAAgB,IAAI,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,SAAS,EAAE;IACvD,oBAAoB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;IACzC;IACA,oBAAoB,OAAO,cAAc,CAAC,sBAAsB,CAAC,CAAC;IAClE,iBAAiB;IACjB,aAAa;IACb,iBAAiB;IACjB;IACA,gBAAgB,GAAG,GAAG,kBAAkB,CAAC;IACzC,aAAa;IACb,SAAS;IACT;IACA;IACA;IACA,QAAQ,IAAI,aAAa,GAAG,IAAI,MAAM,CAAC,2BAA2B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9E,QAAQ,IAAI,YAAY,CAAC,MAAM,KAAK,MAAM,EAAE;IAC5C,YAAY,YAAY,CAAC,IAAI,GAAG,cAAc,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;IACtE,SAAS;IACT;IACA,QAAQ,YAAY,CAAC,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,cAAc,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IACvF;IACA,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE;IAC5E,YAAY,YAAY,CAAC,OAAO,CAAC,OAAO,GAAG,6BAA6B,CAAC;IACzE,SAAS;IACT;IACA,QAAQ,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE;IACzD,YAAY,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC;IAChD,gBAAgB,mCAAmC,CAAC;IACpD,SAAS;IACT,QAAQ,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;IAChD,KAAK,CAAC;IACN,SAAS,IAAI,CAAC,UAAU,QAAQ,EAAE;IAClC,QAAQ,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;IAC1B;IACA,YAAY,IAAI,QAAQ,GAAG,QAAQ,CAAC,MAAM,EAAE,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IAC7E,YAAY,MAAM,IAAI,kBAAkB,CAAC,UAAU,EAAE,OAAO,GAAG,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IACjG,SAAS;IACT,QAAQ,IAAI,WAAW,EAAE;IACzB,YAAY,OAAO,QAAQ,CAAC;IAC5B,SAAS;IACT,QAAQ,QAAQ,MAAM,CAAC,CAAC;IACxB,YAAY,KAAK,MAAM;IACvB,gBAAgB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvC,YAAY,KAAK,SAAS;IAC1B,gBAAgB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvC,YAAY,KAAK,MAAM;IACvB,gBAAgB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvC,YAAY,KAAK,MAAM;IACvB,gBAAgB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvC;IACA,YAAY;IACZ,gBAAgB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvC,SAAS;IACT,KAAK,CAAC;IACN,SAAS,IAAI,CAAC,UAAU,IAAI,EAAE;IAC9B,QAAQ,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,MAAM,IAAI,MAAM,CAAC,CAAC,KAAK,SAAS,KAAK,CAAC,WAAW,EAAE;IAC7E,YAAY,IAAI,QAAQ,GAAG,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,CAAC,CAAC;IACzF,YAAY,IAAI,iBAAiB,EAAE;IACnC;IACA;IACA;IACA;IACA,gBAAgB,IAAI,YAAY,GAAG,GAAG;IACtC,qBAAqB,WAAW,EAAE;IAClC,qBAAqB,KAAK,CAAC,8BAA8B,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9D,gBAAgB,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG;IACxE,oBAAoB,KAAK,EAAE,EAAE;IAC7B;IACA,oBAAoB,OAAO,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC;IAChE,iBAAiB,CAAC;IAClB,gBAAgB,iBAAiB,GAAG,IAAI,CAAC;IACzC,aAAa;IACb,YAAY,OAAO,QAAQ,CAAC;IAC5B,SAAS;IACT,aAAa;IACb,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,KAAK,CAAC,CAAC;IACP;;IC7UA;IACA;IAEA;IACA;IACA;IACO,SAAS,kBAAkB,CAAC,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE;IACrE,IAAI,IAAI,kBAAkB,GAAG;IAC7B,QAAQ,QAAQ;IAChB,QAAQ,YAAY;IACpB,QAAQ,aAAa;IACrB,QAAQ,gBAAgB;IACxB,QAAQ,QAAQ;IAChB,QAAQ,OAAO;IACf,QAAQ,cAAc;IACtB,QAAQ,SAAS;IACjB,KAAK,CAAC;IACN,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,WAAW,CAAC,EAAE,aAAa,CAAC,CAAC;IACjF;IACA,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;IACvD,QAAQ,IAAI,aAAa,CAAC,GAAG,CAAC,IAAI,OAAO,aAAa,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;IAC3E,YAAY,KAAK,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;IAC5C,SAAS;IACT,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;IACvB;IACA,IAAI,OAAO,kBAAkB,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;IAC3D,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;IAC1B,YAAY,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;IACtC,SAAS;IACT,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK,EAAE,EAAE,CAAC,CAAC;IACX;;IChCA;IACA;IACA;IACA;IACA;IACO,SAAS,QAAQ,CAAC,GAAG,EAAE;IAC9B;IACA,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;IACjC,QAAQ,OAAO,GAAG,CAAC;IACnB,KAAK;IACL;IACA,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;IACrB;IACA,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;IACrC,QAAQ,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/B,KAAK;IACL,IAAI,OAAO,GAAG,CAAC;IACf;;ICjBA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,YAAY,CAAC,cAAc,EAAE;IAC7C,IAAI,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,EAAE,CAAC,EAAE;IAC3D;IACA,IAAI,IAAI,cAAc,CAAC,MAAM,EAAE;IAC/B,QAAQ,OAAO,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAC/C,KAAK;IACL;IACA,IAAI,IAAI,cAAc,CAAC,cAAc,EAAE;IACvC;IACA,QAAQ,OAAO,cAAc,CAAC,cAAc,CAAC,MAAM,CAAC;IACpD,KAAK;IACL;IACA,IAAI,OAAO,qCAAqC,CAAC;IACjD;;ICxBA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,kBAAkB,YAAY;IACpD;IACA;IACA;IACA,IAAI,SAAS,kBAAkB,CAAC,CAAC,EAAE;IACnC,QAAQ,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE;IACrC,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IAC5B,QAAQ,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IAC7B,QAAQ,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IAC5B,QAAQ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACnB,KAAK;IACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;IACrD,QAAQ,IAAI,KAAK,GAAG,EAAE,CAAC;IACvB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,KAAK,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACtC,SAAS;IACT,QAAQ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACtD,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,EAAE,GAAG,UAAU,KAAK,EAAE;IACvD,QAAQ,IAAI,EAAE,GAAG,MAAM,IAAI,KAAK,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;IACpE,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;IAC9C,YAAY,IAAI;IAChB;IACA,YAAY,EAAE,GAAG,iGAAiG,CAAC,CAAC;IACpH,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,KAAK,IAAI,KAAK,KAAK,GAAG,EAAE;IACpC,YAAY,IAAI,CAAC,CAAC,IAAI,KAAK,GAAG,GAAG,CAAC;IAClC,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IAC7B,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;IAC1D,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;IACjC,YAAY,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;IAC1B,SAAS;IACT,QAAQ,IAAI,CAAC,UAAU,EAAE,CAAC;IAC1B,QAAQ,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;IACtB,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;IACxD,QAAQ,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,EAAE;IAClC,YAAY,IAAI,CAAC,kGAAkG,CAAC,CAAC;IACrH,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,CAAC,UAAU,EAAE,CAAC;IAC1B,QAAQ,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;IACtB,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;IACnD,QAAQ,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACvC,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,EAAE,GAAG,YAAY;IAClD,QAAQ,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACtC,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;IACnD,QAAQ,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACvC,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE;IACxD,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;IAC3B,YAAY,IAAI;IAChB;IACA,YAAY,6SAA6S,CAAC,CAAC;IAC3T,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;IAClC,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,EAAE,GAAG,UAAU,IAAI,EAAE;IACtD,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;IAC3B,YAAY,IAAI;IAChB;IACA,YAAY,0SAA0S,CAAC,CAAC;IACxT,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;IAClC,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;IACxD,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IAC5B,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;IACvD,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;IACvB,QAAQ,OAAO,IAAI,CAAC,CAAC,CAAC;IACtB,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;IACrD,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;IACvB,QAAQ,OAAO,IAAI,kBAAkB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IACnD,KAAK,CAAC;IACN,IAAI,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE;IACnE,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;IACjC,YAAY,IAAI;IAChB;IACA,YAAY,mBAAmB,GAAG,IAAI,CAAC,cAAc,GAAG,aAAa,GAAG,QAAQ,GAAG,2CAA2C,CAAC,CAAC;IAChI,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,QAAQ,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;IACjD,YAAY,IAAI,CAAC,mBAAmB,GAAG,QAAQ,GAAG,6FAA6F,CAAC,CAAC;IACjJ,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;IACvC,QAAQ,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC;IAC3C,QAAQ,IAAI,CAAC,CAAC,IAAI,QAAQ,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC;IAC/C,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;IAC5D,QAAQ,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC/B,KAAK,CAAC;IACN,IAAI,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE;IAC9D,QAAQ,IAAI,IAAI,YAAY,IAAI,EAAE;IAClC,YAAY,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;IAClC,SAAS;IACT,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;IAChE,YAAY,OAAO,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACtC,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,kBAAkB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;IACtD,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;IACxC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;IAC3B,YAAY,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACrH,YAAY,IAAI,CAAC,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IACrD,SAAS;IACT,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;IAC3B,YAAY,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS;IACpC,iBAAiB,GAAG,CAAC,UAAU,IAAI,EAAE;IACrC,gBAAgB,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC9C,aAAa,CAAC;IACd,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,YAAY,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IAChC,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,EAAE,UAAU,EAAE;IACpE,QAAQ,GAAG,EAAE,YAAY;IACzB,YAAY,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;IAC7C,SAAS;IACT,QAAQ,UAAU,EAAE,KAAK;IACzB,QAAQ,YAAY,EAAE,IAAI;IAC1B,KAAK,CAAC,CAAC;IACP,IAAI,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,EAAE,UAAU,EAAE;IACpE,QAAQ,GAAG,EAAE,YAAY;IACzB,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACtF,SAAS;IACT,QAAQ,UAAU,EAAE,KAAK;IACzB,QAAQ,YAAY,EAAE,IAAI;IAC1B,KAAK,CAAC,CAAC;IACP,IAAI,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;IACvD;IACA,QAAQ,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;IACjC,YAAY,IAAI;IAChB;IACA,YAAY,wBAAwB,GAAG,IAAI,CAAC,UAAU,GAAG,gEAAgE,CAAC,CAAC;IAC3H,YAAY,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;IACxC,gBAAgB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;IAC9B,gBAAgB,IAAI,CAAC,UAAU,EAAE,CAAC;IAClC,aAAa;IACb,SAAS;IACT,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;IAC1B,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,EAAE,EAAE,CAAC,CAAC;IAC7D,QAAQ,IAAI,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;IAC7B,YAAY,IAAI,CAAC,kGAAkG,CAAC,CAAC;IACrH,SAAS;IACT;IACA,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAC/C,KAAK,CAAC;IACN,IAAI,OAAO,kBAAkB,CAAC;IAC9B,CAAC,EAAE,CAAC;;IClWJ;IACA;IAIO,SAAS,aAAa,CAAC,MAAM,EAAE,UAAU,EAAE;IAClD,IAAI,IAAI,OAAO,CAAC;IAChB,IAAI,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,YAAY,kBAAkB,EAAE;IAC5E,QAAQ,OAAO,GAAG;IAClB,YAAY,UAAU,EAAE,KAAK;IAC7B,YAAY,MAAM,EAAE;IACpB,gBAAgB,CAAC,EAAE,MAAM;IACzB,aAAa;IACb,SAAS,CAAC;IACV,KAAK;IACL,SAAS;IACT;IACA,QAAQ,OAAO,GAAG,kBAAkB,CAAC,MAAM,EAAE;IAC7C,YAAY,GAAG;IACf,YAAY,KAAK;IACjB,YAAY,OAAO;IACnB,YAAY,WAAW;IACvB,YAAY,WAAW;IACvB,YAAY,kBAAkB;IAC9B,YAAY,gBAAgB;IAC5B,YAAY,QAAQ;IACpB,YAAY,aAAa;IACzB,YAAY,WAAW;IACvB,YAAY,YAAY;IACxB,YAAY,iBAAiB;IAC7B,SAAS,EAAE;IACX,YAAY,UAAU,EAAE,KAAK;IAC7B,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,IAAI,IAAI,CAAC;IACb,IAAI,QAAQ,UAAU;IACtB,QAAQ,KAAK,MAAM;IACnB,YAAY,IAAI,GAAG,SAAS,CAAC;IAC7B,YAAY,MAAM;IAClB,QAAQ,KAAK,OAAO;IACpB,YAAY,IAAI,GAAG,mBAAmB,CAAC;IACvC,YAAY,MAAM;IAClB,QAAQ,KAAK,cAAc;IAC3B;IACA;IACA,YAAY,IAAI,OAAO,MAAM,KAAK,QAAQ;IAC1C,gBAAgB,EAAE,MAAM,YAAY,kBAAkB,CAAC;IACvD,gBAAgB,MAAM,CAAC,OAAO,EAAE;IAChC,gBAAgB,IAAI,GAAG,kBAAkB,GAAG,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;IACvE,aAAa;IACb,iBAAiB;IACjB,gBAAgB,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,0DAA0D,CAAC,CAAC,CAAC;IAC7G,aAAa;IACb,YAAY,MAAM;IAClB,QAAQ;IACR;IACA,YAAY,IAAI,GAAG,4BAA4B,CAAC;IAChD,YAAY,MAAM;IAClB,KAAK;IACL,IAAI,IAAI,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;IAC3C;IACA,IAAI,OAAO,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;IACnD,QAAQ,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,KAAK,CAAC,CAAC,EAAE;IAC/C,YAAY,CAAC,CAAC,QAAQ,GAAG,YAAY;IACrC,gBAAgB,IAAI,UAAU,CAAC;IAC/B,gBAAgB,IAAI,OAAO,MAAM,KAAK,QAAQ;IAC9C,oBAAoB,MAAM,YAAY,kBAAkB,EAAE;IAC1D,oBAAoB,UAAU,GAAG;IACjC,wBAAwB,CAAC,EAAE,MAAM;IACjC,wBAAwB,KAAK,EAAE,CAAC,CAAC,SAAS;IAC1C,qBAAqB,CAAC;IACtB,iBAAiB;IACjB,qBAAqB;IACrB,oBAAoB,UAAU,GAAG,MAAM,CAAC;IACxC,oBAAoB,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC;IACnD,iBAAiB;IACjB,gBAAgB,OAAO,aAAa,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IAC7D,aAAa,CAAC;IACd,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,KAAK,CAAC,CAAC;IACP;;ICjFA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,WAAW,CAAC,MAAM,EAAE;IACpC,IAAI,OAAO,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACzC;;ICjBA;IACA;IACA;AACWA,sCAAiB;IAC5B,CAAC,UAAU,gBAAgB,EAAE;IAC7B,IAAI,gBAAgB,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACpC,IAAI,gBAAgB,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAClC,IAAI,gBAAgB,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACpC,CAAC,EAAEA,wBAAgB,KAAKA,wBAAgB,GAAG,EAAE,CAAC,CAAC;;ICR/C,IAAI,kBAAkB,GAAG,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;IACjD;IACA;IACA;IACA;IACO,SAAS,uBAAuB,CAAC,WAAW,EAAE;IACrD,IAAI,OAAO,WAAW,IAAI,OAAO,WAAW,KAAK,QAAQ,CAAC;IAC1D,CAAC;IACD;IACA;IACA;IACA;IACO,SAAS,uBAAuB,CAAC,WAAW,EAAE;IACrD,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;IAChE,CAAC;IACD;IACA;IACA;IACA;IACA;IACO,SAAS,uBAAuB,CAAC,WAAW,EAAE,WAAW,EAAE;IAClE,IAAI,OAAO,kBAAkB,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC;IACvE;;ICnBA,IAAIC,YAAU,GAAG,OAAO,CAAC;IACzB,IAAI,eAAe,GAAG,CAAC,4BAA4B,CAAC,CAAC;IACrD,IAAI,6BAA6B,GAAG;IACpC,IAAI,OAAO;IACX,IAAI,MAAM;IACV,IAAI,cAAc;IAClB,IAAI,aAAa;IACjB,IAAI,MAAM;IACV,IAAI,SAAS;IACb,IAAI,YAAY;IAChB,CAAC,CAAC;IACF;IACA;IACA;IACA;IACO,SAAS,qBAAqB,CAAC,OAAO,EAAE,aAAa,EAAE,qBAAqB,EAAE;IACrF,IAAI,IAAI,CAAC,GAAGC,eAAa,CAAC,OAAO,CAAC,CAAC;IACnC,IAAI,IAAI,MAAM,GAAGC,aAAW,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;IAC/D,IAAI,OAAOC,qBAAmB,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,OAAO,EAAE,aAAa,EAAE,qBAAqB,CAAC,CAAC;IACjG,CAAC;IACD,SAASF,eAAa,CAAC,OAAO,EAAE;IAChC,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;IACtC,IAAI,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;IACjE,QAAQ,IAAI,MAAM,GAAG,2BAA2B,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;IACnE,QAAQ,IAAI,MAAM,EAAE;IACpB,YAAY,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,SAAS;IACT,QAAQ,OAAO,GAAG,CAAC;IACnB,KAAK,EAAE,EAAE,CAAC,CAAC;IACX,IAAI,IAAI,mBAAmB,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC;IACzD,IAAI,OAAO,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;IACpD,CAAC;IACD;IACA;IACA;IACA;IACO,SAASC,aAAW,CAAC,OAAO,EAAE;IACrC,IAAI,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;IACxC,IAAI,IAAI,YAAY,GAAG,OAAO,CAAC,IAAI,IAAI;IACvC,QAAQ,KAAK,EAAE,CAAC;IAChB,QAAQ,GAAG,EAAE,EAAE;IACf,KAAK,CAAC;IACN,IAAI,OAAO,OAAO,YAAY,KAAK,QAAQ;IAC3C,UAAU,UAAU,CAAC,YAAY,CAAC;IAClC,UAAU,YAAY,CAAC;IACvB,CAAC;IACD,SAASC,qBAAmB,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,EAAE,qBAAqB,EAAE;IACrF,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;IAC7C,IAAI,OAAO;IACX,QAAQ,CAAC,EAAE,CAAC;IACZ,QAAQ,SAAS,EAAE,OAAO,CAAC,SAAS;IACpC,QAAQ,SAAS,EAAE,OAAO,CAAC,SAAS;IACpC,QAAQ,MAAM,EAAE;IAChB,YAAY,WAAW,EAAE,OAAO,CAAC,YAAY;IAC7C,YAAY,SAAS,EAAE,OAAO,CAAC,YAAY,GAAG,GAAG,GAAG,SAAS;IAC7D,YAAY,KAAK,EAAE,IAAI,CAAC,KAAK;IAC7B,YAAY,GAAG,EAAE,IAAI,CAAC,GAAG;IACzB,SAAS;IACT,QAAQ,IAAI,EAAE,OAAO,CAAC,IAAI;IAC1B,QAAQ,MAAM,EAAE,OAAO,CAAC,MAAM,IAAI,aAAa;IAC/C,QAAQ,cAAc,EAAE,OAAO,CAAC,cAAc,IAAI,qBAAqB;IACvE,QAAQ,UAAU,EAAE,MAAM;IAC1B,KAAK,CAAC;IACN,CAAC;IACD,SAAS,2BAA2B,CAAC,WAAW,EAAE,WAAW,EAAE;IAC/D,IAAI,IAAI,uBAAuB,CAAC,WAAW,CAAC,EAAE;IAC9C,QAAQ,OAAO,mBAAmB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC7D,KAAK;IACL,SAAS,IAAI,uBAAuB,CAAC,WAAW,CAAC,EAAE;IACnD,QAAQ,OAAOC,oBAAkB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC5D,KAAK;IACL,SAAS,IAAI,uBAAuB,CAAC,WAAW,EAAE,WAAW,CAAC,EAAE;IAChE,QAAQ,OAAOC,kBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC1D,KAAK;IACL,SAAS;IACT,QAAQ,OAAOC,oBAAkB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC5D,KAAK;IACL,CAAC;IACD,SAAS,iBAAiB,CAAC,OAAO,EAAE;IACpC,IAAI,OAAO,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IAC3C,CAAC;IACD,SAAS,mBAAmB,CAAC,WAAW,EAAE,WAAW,EAAE;IACvD,IAAI,IAAI,WAAW,KAAKN,YAAU,EAAE;IACpC,QAAQ,OAAO,GAAG,GAAG,oBAAoB,CAAC,WAAW,EAAE,WAAW,CAAC,GAAG,GAAG,CAAC;IAC1E,KAAK;IACL,IAAI,OAAO,GAAG,GAAG,WAAW,GAAG,IAAI,GAAG,oBAAoB,CAAC,WAAW,EAAE,WAAW,CAAC,GAAG,GAAG,CAAC;IAC3F,CAAC;IACD,SAASI,oBAAkB,CAAC,WAAW,EAAE,WAAW,EAAE;IACtD,IAAI,IAAI,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;IACpD,QAAQ,OAAO,oBAAoB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACzD,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,GAAG,GAAG,WAAW,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;IACtF,CAAC;IACD,SAASC,kBAAgB,CAAC,WAAW,EAAE,WAAW,EAAE;IACpD,IAAI,OAAO,GAAG,GAAG,WAAW,GAAG,KAAK,IAAI,WAAW,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,MAAM,IAAI,WAAW,CAAC,EAAE,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC;IAC1H,CAAC;IACD,SAASC,oBAAkB,CAAC,WAAW,EAAE,aAAa,EAAE;IACxD,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;IACzE,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK;IACL,IAAI,IAAI,QAAQ,GAAG,aAAa,CAAC,IAAI,IAAIP,wBAAgB,CAAC,EAAE,CAAC;IAC7D,IAAI,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;IAC5D,QAAQ,OAAO,oBAAoB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACzD,KAAK,CAAC,CAAC;IACP,IAAI,IAAI,QAAQ,KAAKA,wBAAgB,CAAC,GAAG,EAAE;IAC3C,QAAQ,OAAO,IAAI,GAAG,WAAW,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;IAC7F,KAAK;IACL,SAAS;IACT,QAAQ,OAAO,GAAG,GAAG,WAAW,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;IACnH,KAAK;IACL,CAAC;IACD,SAAS,oBAAoB,CAAC,WAAW,EAAE,WAAW,EAAE;IACxD,IAAI,OAAO,6BAA6B,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC;IAClE,UAAU,IAAI,GAAG,WAAW,GAAG,IAAI;IACnC,UAAU,WAAW,CAAC;IACtB,CAAC;IACD,SAAS,UAAU,CAAC,IAAI,EAAE;IAC1B,IAAI,IAAI;IACR,QAAQ,IAAI,WAAW,GAAGQ,cAAM,CAAC,IAAI,CAAC,CAAC;IACvC,QAAQ,IAAI,WAAW,KAAK,IAAI,EAAE;IAClC,YAAY,MAAM,IAAI,KAAK,EAAE,CAAC;IAC9B,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IACvC,KAAK;IACL,IAAI,OAAO,GAAG,EAAE;IAChB,QAAQC,gBAAM,CAAC,KAAK,CAAC,gDAAgD,GAAG,IAAI,GAAG,+BAA+B,CAAC,CAAC;IAChH,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK;IACL;;ICjIA,IAAI,UAAU,GAAG,OAAO,CAAC;IACzB,IAAI,mBAAmB,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,cAAc,CAAC,CAAC;IACnE;IACA,IAAI,QAAQ,GAAG;IACf,IAAI,KAAK,EAAE,UAAU;IACrB,IAAI,KAAK,EAAE,MAAM;IACjB,IAAI,YAAY,EAAE,cAAc;IAChC,IAAI,KAAK,EAAE,OAAO;IAClB,IAAI,YAAY,EAAE,cAAc;IAChC,CAAC,CAAC;IACF;IACA,IAAI,SAAS,GAAG;IAChB,IAAI,MAAM,EAAE;IACZ,QAAQ,GAAG,EAAE,cAAc;IAC3B,QAAQ,MAAM,EAAE,MAAM;IACtB,QAAQ,OAAO,EAAE,QAAQ;IACzB,KAAK;IACL,CAAC,CAAC;IACF;IACA;IACA;IACA;IACO,SAAS,kBAAkB,CAAC,OAAO,EAAE;IAC5C,IAAI,IAAI,EAAE,GAAG,gBAAgB,CAAC,OAAO,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,EAAE,aAAa,GAAG,EAAE,CAAC,aAAa,CAAC;IACnI,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM;IACjD,UAAU,aAAa,CAAC,YAAY,CAAC;IACrC,UAAU,SAAS,CAAC;IACpB,IAAI,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM;IACnD,UAAU,cAAc,CAAC,aAAa,CAAC;IACvC,UAAU,SAAS,CAAC;IACpB,IAAI,IAAI,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,CAAC;IACtC,IAAI,OAAO,mBAAmB,CAAC;IAC/B,QAAQ,SAAS,EAAE,SAAS;IAC5B,QAAQ,MAAM,EAAE,MAAM;IACtB,QAAQ,OAAO,EAAE,OAAO;IACxB,QAAQ,MAAM,EAAE,MAAM;IACtB,QAAQ,OAAO,EAAE,OAAO,CAAC,OAAO;IAChC,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,gBAAgB,CAAC,OAAO,EAAE;IACnC,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;IACtC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,SAAS,EAAE,GAAG,EAAE;IAChE,QAAQ,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;IACzD,QAAQ,IAAI,aAAa,CAAC,GAAG,CAAC,EAAE;IAChC,YAAY,SAAS,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAC9C,SAAS;IACT,aAAa,IAAI,sBAAsB,CAAC,GAAG,CAAC,EAAE;IAC9C,YAAY,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAC1D,SAAS;IACT,aAAa;IACb,YAAY,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IACzD,SAAS;IACT,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,EAAE,EAAE,aAAa,EAAE,EAAE,EAAE,CAAC,CAAC;IACtE,CAAC;IACD,SAAS,aAAa,CAAC,YAAY,EAAE;IACrC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAU,SAAS,EAAE,GAAG,EAAE;IACtE,QAAQ,IAAI,MAAM,GAAG,wBAAwB,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;IACtE,QAAQ,IAAI,MAAM,EAAE;IACpB,YAAY,SAAS,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;IACpC,SAAS;IACT,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IACD,SAAS,cAAc,CAAC,aAAa,EAAE;IACvC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,UAAU,UAAU,EAAE,GAAG,EAAE;IACxE,QAAQ,IAAI,MAAM,GAAG,wBAAwB,CAAC,GAAG,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC;IACvE,QAAQ,IAAI,MAAM,EAAE;IACpB,YAAY,UAAU,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;IACrC,SAAS;IACT,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IACD,SAAS,WAAW,CAAC,OAAO,EAAE;IAC9B,IAAI,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;IACxC,IAAI,OAAO,OAAO,CAAC,IAAI,CAAC;IACxB,CAAC;IACD,SAAS,mBAAmB,CAAC,MAAM,EAAE;IACrC,IAAI,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;IACvC,IAAI,IAAI,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;IAChE,IAAI,IAAI,GAAG,GAAG,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IACpD,IAAI,IAAI,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3C,IAAI,IAAI,YAAY,GAAG;IACvB,QAAQ,CAAC,EAAE,MAAM,CAAC,SAAS,IAAI,SAAS;IACxC,QAAQ,IAAI,EAAE,IAAI;IAClB,QAAQ,MAAM,EAAE,MAAM,CAAC,MAAM;IAC7B,QAAQ,OAAO,EAAE,MAAM,CAAC,OAAO;IAC/B,QAAQ,IAAI,EAAE,MAAM,CAAC,MAAM,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,MAAM,EAAE;IACrD,QAAQ,GAAG,EAAE,GAAG;IAChB,QAAQ,MAAM,EAAE,MAAM;IACtB,KAAK,CAAC;IACN,IAAI,OAAO,YAAY,CAAC;IACxB,CAAC;IACD,SAAS,wBAAwB,CAAC,WAAW,EAAE,WAAW,EAAE;IAC5D,IAAI,IAAI,uBAAuB,CAAC,WAAW,CAAC,EAAE;IAC9C,QAAQ,OAAO,kBAAkB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;IAC9D,KAAK;IACL,SAAS,IAAI,uBAAuB,CAAC,WAAW,CAAC,EAAE;IACnD,QAAQ,OAAO,kBAAkB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC5D,KAAK;IACL,SAAS,IAAI,uBAAuB,CAAC,WAAW,EAAE,WAAW,CAAC,EAAE;IAChE,QAAQ,OAAO,gBAAgB,CAAC,WAAW,CAAC,CAAC;IAC7C,KAAK;IACL,SAAS;IACT,QAAQ,OAAO,kBAAkB,CAAC,WAAW,CAAC,CAAC;IAC/C,KAAK;IACL,CAAC;IACD,SAAS,kBAAkB,CAAC,KAAK,EAAE,WAAW,EAAE;IAChD,IAAI,IAAI,oBAAoB,GAAG,WAAW,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;IACjE,QAAQ,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,EAAE;IAC1D,YAAY,OAAO,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC;IAC5C,SAAS;IACT,QAAQ,OAAO,MAAM,CAAC;IACtB,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;IACzD,CAAC;IACD,SAAS,gBAAgB,CAAC,eAAe,EAAE;IAC3C,IAAI,IAAI,IAAI,GAAG,eAAe,CAAC,IAAI,IAAI,CAAC,CAAC;IACzC,IAAI,IAAI,EAAE,GAAG,eAAe,CAAC,EAAE,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IACxD,IAAI,OAAO,UAAU,GAAG,wBAAwB,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,wBAAwB,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IAClG,CAAC;IACD,SAAS,kBAAkB,CAAC,aAAa,EAAE;IAC3C,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;IACzE,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK;IACL,IAAI,IAAI,QAAQ,GAAG,aAAa,CAAC,IAAI,IAAIT,wBAAgB,CAAC,EAAE,CAAC;IAC7D,IAAI,IAAI,WAAW,GAAG,oBAAoB,CAAC,QAAQ,CAAC,CAAC;IACrD,IAAI,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC;IACtC,IAAI,OAAO,WAAW,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;IACvD,CAAC;IACD,SAAS,wBAAwB,CAAC,KAAK,EAAE;IACzC,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;IAC7C,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACjC,CAAC;IACD,SAAS,oBAAoB,CAAC,QAAQ,EAAE;IACxC,IAAI,IAAI,QAAQ,KAAKA,wBAAgB,CAAC,GAAG,EAAE;IAC3C,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,SAAS,IAAI,QAAQ,KAAKA,wBAAgB,CAAC,GAAG,EAAE;IAChD,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,OAAO,KAAK,CAAC;IACjB,CAAC;IACD,SAAS,aAAa,CAAC,WAAW,EAAE;IACpC,IAAI,OAAO,UAAU,KAAK,WAAW,CAAC;IACtC,CAAC;IACD,SAAS,sBAAsB,CAAC,WAAW,EAAE;IAC7C,IAAI,OAAO,mBAAmB,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IACD,SAAS,UAAU,CAAC,SAAS,EAAE,SAAS,EAAE;IAC1C,IAAI,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,WAAW,EAAE,KAAK,WAAW,EAAE;IAC/D,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK;IACL,IAAI,IAAI,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC;IAC7E,IAAI,IAAI,KAAK,GAAG,SAAS,IAAI,SAAS,CAAC,WAAW,EAAE,KAAK,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC;IAC3E,IAAI,OAAO,EAAE,GAAG,KAAK,GAAG,YAAY,CAAC;IACrC,CAAC;IACD,SAAS,eAAe,CAAC,YAAY,EAAE;IACvC,IAAI,OAAO,YAAY;IACvB,UAAU;IACV,YAAY,MAAM,EAAE,YAAY;IAChC,SAAS;IACT,UAAU,SAAS,CAAC;IACpB,CAAC;IACD,SAAS,SAAS,CAAC,MAAM,EAAE;IAC3B,IAAI,OAAO,MAAM;IACjB,UAAU;IACV,YAAY,QAAQ,EAAE,MAAM;IAC5B,SAAS;IACT,UAAU,SAAS,CAAC;IACpB;;IC1KA;IACA;IACA;IACA;IACA;IACO,SAAS,qBAAqB,CAAC,OAAO,EAAE,QAAQ,EAAE;IACzD,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAACU,uBAAa,CAAC,CAAC;IACtD,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC;IAC7B,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;IAC/B,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;IAC1C,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;IAC/B,IAAI,IAAI,YAAY,GAAG,QAAQ,CAAC,YAAY;IAC5C,UAAUC,iBAAe,CAAC,QAAQ,CAAC,YAAY,CAAC;IAChD,UAAU,SAAS,CAAC;IACpB,IAAI,IAAI,IAAI,GAAGC,iBAAe,CAAC,OAAO,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC5E,IAAI,OAAO;IACX,QAAQ,OAAO,EAAE,OAAO;IACxB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,OAAO,EAAE,OAAO;IACxB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,YAAY,EAAE,YAAY;IAClC,QAAQ,IAAI,EAAE,IAAI;IAClB,KAAK,CAAC;IACN,CAAC;IACD,SAASD,iBAAe,CAAC,YAAY,EAAE;IACvC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAU,WAAW,EAAE,OAAO,EAAE;IAC5E;IACA;IACA,QAAQ,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE;IAChD,YAAY,WAAW,CAAC,MAAM,GAAGE,sBAAoB,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7E,SAAS;IACT,QAAQ,OAAO,WAAW,CAAC;IAC3B,KAAK,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IACD,SAASA,sBAAoB,CAAC,SAAS,EAAE;IACzC,IAAI,OAAO,SAAS,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE;IACxC,QAAQ,IAAI,UAAU,GAAG,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,QAAQ;IAC3E,YAAY,KAAK,EAAE,QAAQ,CAAC,KAAK;IACjC,YAAY,KAAK,EAAE,QAAQ,CAAC,KAAK;IACjC,SAAS,EAAE,EAAE,CAAC,CAAC;IACf,QAAQ,OAAO;IACf,YAAY,SAAS,EAAE,GAAG,CAAC,SAAS;IACpC,YAAY,YAAY,EAAE,UAAU;IACpC,SAAS,CAAC;IACV,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAASD,iBAAe,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE;IACpD,IAAI,IAAI,aAAa,GAAGE,qBAAW,CAAC,OAAO,CAAC,CAAC;IAC7C;IACA,IAAI,aAAa,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;IAC1D,IAAI,aAAa,CAAC,KAAK,GAAG,SAAS,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG,KAAK,GAAG,CAAC,CAAC;IACjE,IAAI,OAAO,UAAU,cAAc,EAAE;IACrC,QAAQ,IAAI,cAAc,EAAE;IAC5B,YAAY,aAAa,CAAC,cAAc,GAAG,cAAc,CAAC;IAC1D,SAAS;IACT,QAAQ,OAAO,WAAW,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE;IACnE,YAAY,OAAO,qBAAqB,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;IAClE,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN;;IC1DA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,kBAAkB,CAAC,OAAO,EAAE,QAAQ,EAAE,qBAAqB,EAAE;IAC7E,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE,EAAE,QAAQ,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE;IACnE,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAACC,0BAAgB,CAAC,CAAC;IACtD,IAAI,IAAI,EAAE,GAAG,mBAAmB,CAAC,QAAQ,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;IACvJ,IAAI,IAAI,IAAI,GAAG,eAAe,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,qBAAqB,CAAC,CAAC;IAClF,IAAI,OAAO;IACX,QAAQ,OAAO,EAAE,OAAO;IACxB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,OAAO,EAAE,OAAO;IACxB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,YAAY,EAAE,YAAY,GAAG,eAAe,CAAC,YAAY,CAAC,GAAG,SAAS;IAC9E,QAAQ,IAAI,EAAE,IAAI;IAClB,KAAK,CAAC;IACN,CAAC;IACD,SAAS,eAAe,CAAC,YAAY,EAAE;IACvC,IAAI,OAAO;IACX,QAAQ,MAAM,EAAE,oBAAoB,CAAC,YAAY,CAAC;IAClD,KAAK,CAAC;IACN,CAAC;IACD,SAAS,oBAAoB,CAAC,SAAS,EAAE;IACzC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;IACxD,QAAQ,IAAI,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC;IAC5C,cAAc,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE,EAAE,QAAQ;IAC7D,gBAAgB,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE;IAC5C,gBAAgB,KAAK,EAAE,GAAG,CAAC,QAAQ;IACnC,aAAa,EAAE,EAAE,CAAC;IAClB,cAAc,EAAE,CAAC;IACjB,QAAQ,OAAO;IACf,YAAY,SAAS,EAAE,MAAM;IAC7B,YAAY,YAAY,EAAE,YAAY;IACtC,SAAS,CAAC;IACV,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,eAAe,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,qBAAqB,EAAE;IAC5E,IAAI,OAAO,UAAU,IAAI,EAAE;IAC3B,QAAQ,IAAI,cAAc,GAAG,IAAI,IAAI,qBAAqB,CAAC;IAC3D,QAAQ,IAAI,OAAO,GAAG,cAAc;IACpC,YAAY,cAAc,CAAC,SAAS;IACpC,YAAY,IAAI,OAAO,CAAC,EAAE,cAAc,EAAE,cAAc,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACxE,QAAQ,IAAI,OAAO,EAAE;IACrB;IACA,YAAY,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;IAC7C,gBAAgB,MAAM,EAAE,KAAK;IAC7B,gBAAgB,IAAI,EAAE,MAAM;IAC5B,gBAAgB,OAAO,EAAE,OAAO;IAChC,aAAa,CAAC;IACd,iBAAiB,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC;IAC5D,iBAAiB,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,kBAAkB,CAAC,OAAO,EAAE,GAAG,EAAE,qBAAqB,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1G,SAAS;IACT,QAAQ,IAAI,QAAQ,GAAG,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IACrD,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC;IAC/B,YAAY,OAAO,EAAE,EAAE;IACvB,YAAY,KAAK,EAAE,CAAC;IACpB,YAAY,KAAK,EAAE,QAAQ,CAAC,KAAK;IACjC,YAAY,OAAO,EAAE,KAAK;IAC1B,YAAY,KAAK,EAAE,QAAQ,CAAC,KAAK;IACjC,YAAY,YAAY,EAAE,QAAQ,CAAC,YAAY;IAC/C,kBAAkB,eAAe,CAAC,QAAQ,CAAC,YAAY,CAAC;IACxD,kBAAkB,SAAS;IAC3B,YAAY,IAAI,EAAE,eAAe,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC;IAC3D,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN,CAAC;IACD,SAAS,mBAAmB,CAAC,QAAQ,EAAE;IACvC,IAAI,IAAI,SAAS,GAAGC,iBAAO,CAAC,QAAQ,EAAE,sBAAsB,CAAC,CAAC;IAC9D,IAAI,IAAI,KAAK,GAAG,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC;IAClE,IAAI,IAAI,gBAAgB,GAAGA,iBAAO,CAAC,QAAQ,EAAE,iBAAiB,CAAC,IAAI,EAAE,CAAC;IACtE,IAAI,IAAI,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,gBAAgB,GAAG,SAAS,CAAC;IAC/F,IAAI,OAAO;IACX,QAAQ,KAAK,EAAEA,iBAAO,CAAC,QAAQ,EAAE,kBAAkB,CAAC,IAAI,CAAC;IACzD,QAAQ,KAAK,EAAEA,iBAAO,CAAC,QAAQ,EAAE,uBAAuB,CAAC,IAAI,CAAC;IAC9D,QAAQ,OAAO,EAAE,CAAC,CAACA,iBAAO,CAAC,QAAQ,EAAE,WAAW,CAAC;IACjD,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,YAAY,EAAE,YAAY;IAClC,KAAK,CAAC;IACN;;IC/EA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACG,QAAC,oBAAoB,kBAAkB,YAAY;IACtD,IAAI,SAAS,oBAAoB,CAAC,MAAM,EAAE;IAC1C,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IACpC,QAAQ,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;IACxC,QAAQ,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;IACpD,KAAK;IACL;IACA;IACA;IACA;IACA,IAAI,oBAAoB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE;IAC/D,QAAQ,IAAI,QAAQ,GAAGA,iBAAO,CAAC,OAAO,EAAE,kBAAkB,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;IAC7E,QAAQ,IAAI,QAAQ,EAAE;IACtB,YAAY,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IAClD,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IAC1C,KAAK,CAAC;IACN,IAAI,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,OAAO,EAAE;IACzE,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,EAAE;IAC1E,QAAQ,OAAO,8BAA8B,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IACzF,KAAK,CAAC;IACN,IAAI,oBAAoB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,OAAO,EAAE;IACrE,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,EAAE;IAC1E;IACA,QAAQ,IAAI,EAAE,GAAG,IAAI,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,cAAc,GAAG,EAAE,CAAC,cAAc,CAAC;IAC9E,QAAQ,IAAI,OAAO,GAAG,QAAQ,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,cAAc,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IACpG,QAAQ,OAAO,uBAAuB,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;IAC9F,KAAK,CAAC;IACN,IAAI,OAAO,oBAAoB,CAAC;IAChC,CAAC,EAAE,EAAE;IAEL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,aAAa,CAAC,OAAO,EAAE;IACvC,IAAI,IAAI,EAAE,CAAC;IACX,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,EAAE;IACtE,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,K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"}