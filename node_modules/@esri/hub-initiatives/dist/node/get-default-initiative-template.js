"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultInitiativeTemplate = void 0;
const hub_common_1 = require("@esri/hub-common");
const default_initiative_template_1 = require("./default-initiative-template");
/**
 * Get the translated default initiative template
 * @param {IHubRequestOptions} hubRequestOptions
 */
function getDefaultInitiativeTemplate(hubRequestOptions) {
    const culture = hub_common_1.getCulture(hubRequestOptions);
    const locale = hub_common_1.convertToWellKnownLocale(culture);
    return hub_common_1.fetchHubTranslation(locale, hubRequestOptions.portalSelf).then(translation => {
        // now we can get the embedded initiative template
        const tmpl = hub_common_1.cloneObject(default_initiative_template_1.DEFAULT_INITIATIVE_TEMPLATE);
        // pluck values off the translation, and inject into the tmpl
        tmpl.item.description = hub_common_1.getProp(translation, "addons.services.templates.customInitiative.item.description");
        tmpl.item.snippet = hub_common_1.getProp(translation, "addons.services.templates.customInitiative.item.snippet");
        tmpl.item.culture = locale;
        // TODO: HANDLE RESOURCES!
        return tmpl;
    });
}
exports.getDefaultInitiativeTemplate = getDefaultInitiativeTemplate;
//# sourceMappingURL=get-default-initiative-template.js.map