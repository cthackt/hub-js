"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getInitiativeTemplate = void 0;
const hub_common_1 = require("@esri/hub-common");
const get_default_initiative_template_1 = require("./get-default-initiative-template");
// TODO: the initiative will be in the site hash OR we pass it in
/**
 * Given a Site Template, do what we can to return an initiative template
 * In Hub, we expect the system to populate tmpl.properties.initiativeTemplate
 * In other apps, this may not be present, so we use the default template
 * (fetched from the Hub app)
 * @param {object} siteTemplate Site Template
 * @param {IHubRequestOptions} hubRequestOptions
 */
function getInitiativeTemplate(siteTemplate, hubRequestOptions) {
    let tmplPromise;
    const template = hub_common_1.getProp(siteTemplate, "properties.initiativeTemplate");
    if (template) {
        tmplPromise = Promise.resolve(template);
    }
    else {
        // return the default template
        tmplPromise = get_default_initiative_template_1.getDefaultInitiativeTemplate(hubRequestOptions);
    }
    return tmplPromise;
}
exports.getInitiativeTemplate = getInitiativeTemplate;
//# sourceMappingURL=get-initiative-template.js.map