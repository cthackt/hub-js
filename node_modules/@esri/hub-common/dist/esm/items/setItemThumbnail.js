import { __assign, __awaiter, __generator } from "tslib";
import { updateItem } from "@esri/arcgis-rest-portal";
import { HubError } from "..";
/**
 * Upload a file to be used as the thumbnail for an item
 * @param id
 * @param file
 * @param filename
 * @param requestOptions
 */
export function setItemThumbnail(id, file, filename, requestOptions) {
    return __awaiter(this, void 0, void 0, function () {
        var opts, response, err_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    opts = __assign({ item: {
                            id: id,
                        }, params: {
                            thumbnail: file,
                        }, filename: filename }, requestOptions);
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, 3, , 4]);
                    return [4 /*yield*/, updateItem(opts)];
                case 2:
                    response = _a.sent();
                    if (!response.success) {
                        throw new HubError("Set Project Thumbnail", "Unknown error setting thumbnail.");
                    }
                    return [3 /*break*/, 4];
                case 3:
                    err_1 = _a.sent();
                    if (err_1 instanceof Error) {
                        throw new HubError("Set Project Thumbnail", err_1.message, err_1);
                    }
                    else {
                        throw new HubError("Set Project Thumbnail", "Unknown error setting thumbnail.");
                    }
                    return [3 /*break*/, 4];
                case 4: return [2 /*return*/];
            }
        });
    });
}
//# sourceMappingURL=setItemThumbnail.js.map