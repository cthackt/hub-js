import { _getAuthHeader } from "./_get-auth-header";
import { _getDomainServiceUrl } from ".";
/**
 * Validate a custom domain
 * @param {string} hostname to validate
 * @param {IHubRequestOptions} hubRequestOptions
 */
export function isValidDomain(hostname, hubRequestOptions) {
    if (hubRequestOptions.isPortal) {
        throw new Error("isValidDomain is not available in ArcGIS Enterprise.");
    }
    var url = _getDomainServiceUrl(hubRequestOptions.hubApiUrl) + "/validate?hostname=" + hostname;
    var headers = _getAuthHeader(hubRequestOptions);
    return fetch(url, { method: "GET", headers: headers, mode: "cors" })
        .then(function (response) {
        return response.json();
    })
        .catch(function (e) {
        return {
            success: false,
            input: hostname,
            error: {
                code: 400,
                detail: e,
                message: "lookupFailed",
            },
        };
    });
}
//# sourceMappingURL=is-valid-domain.js.map